(()=>{var At=!1,Ct=!1,ve=[],It=-1;function ji(e){Ui(e)}function Ui(e){ve.includes(e)||ve.push(e),Vi()}function Mn(e){let t=ve.indexOf(e);t!==-1&&t>It&&ve.splice(t,1)}function Vi(){!Ct&&!At&&(At=!0,queueMicrotask(zi))}function zi(){At=!1,Ct=!0;for(let e=0;e<ve.length;e++)ve[e](),It=e;ve.length=0,It=-1,Ct=!1}var Ie,Ee,Te,Fn,Tt=!0;function Wi(e){Tt=!1,e(),Tt=!0}function Xi(e){Ie=e.reactive,Te=e.release,Ee=t=>e.effect(t,{scheduler:n=>{Tt?ji(n):n()}}),Fn=e.raw}function _n(e){Ee=e}function Qi(e){let t=()=>{};return[r=>{let i=Ee(r);return e._x_effects||(e._x_effects=new Set,e._x_runEffects=()=>{e._x_effects.forEach(s=>s())}),e._x_effects.add(i),t=()=>{i!==void 0&&(e._x_effects.delete(i),Te(i))},i},()=>{t()}]}function Pn(e,t){let n=!0,r,i=Ee(()=>{let s=e();JSON.stringify(s),n?r=s:queueMicrotask(()=>{t(s,r),r=s}),n=!1});return()=>Te(i)}var kn=[],jn=[],Un=[];function Ki(e){Un.push(e)}function jt(e,t){typeof t=="function"?(e._x_cleanups||(e._x_cleanups=[]),e._x_cleanups.push(t)):(t=e,jn.push(t))}function Vn(e){kn.push(e)}function zn(e,t,n){e._x_attributeCleanups||(e._x_attributeCleanups={}),e._x_attributeCleanups[t]||(e._x_attributeCleanups[t]=[]),e._x_attributeCleanups[t].push(n)}function Wn(e,t){e._x_attributeCleanups&&Object.entries(e._x_attributeCleanups).forEach(([n,r])=>{(t===void 0||t.includes(n))&&(r.forEach(i=>i()),delete e._x_attributeCleanups[n])})}function Gi(e){if(e._x_cleanups)for(;e._x_cleanups.length;)e._x_cleanups.pop()()}var Ut=new MutationObserver(Xt),Vt=!1;function zt(){Ut.observe(document,{subtree:!0,childList:!0,attributes:!0,attributeOldValue:!0}),Vt=!0}function Xn(){Ji(),Ut.disconnect(),Vt=!1}var De=[];function Ji(){let e=Ut.takeRecords();De.push(()=>e.length>0&&Xt(e));let t=De.length;queueMicrotask(()=>{if(De.length===t)for(;De.length>0;)De.shift()()})}function F(e){if(!Vt)return e();Xn();let t=e();return zt(),t}var Wt=!1,et=[];function Zi(){Wt=!0}function Yi(){Wt=!1,Xt(et),et=[]}function Xt(e){if(Wt){et=et.concat(e);return}let t=new Set,n=new Set,r=new Map,i=new Map;for(let s=0;s<e.length;s++)if(!e[s].target._x_ignoreMutationObserver&&(e[s].type==="childList"&&(e[s].addedNodes.forEach(o=>o.nodeType===1&&t.add(o)),e[s].removedNodes.forEach(o=>o.nodeType===1&&n.add(o))),e[s].type==="attributes")){let o=e[s].target,a=e[s].attributeName,l=e[s].oldValue,u=()=>{r.has(o)||r.set(o,[]),r.get(o).push({name:a,value:o.getAttribute(a)})},c=()=>{i.has(o)||i.set(o,[]),i.get(o).push(a)};o.hasAttribute(a)&&l===null?u():o.hasAttribute(a)?(c(),u()):c()}i.forEach((s,o)=>{Wn(o,s)}),r.forEach((s,o)=>{kn.forEach(a=>a(o,s))});for(let s of n)t.has(s)||jn.forEach(o=>o(s));t.forEach(s=>{s._x_ignoreSelf=!0,s._x_ignore=!0});for(let s of t)n.has(s)||s.isConnected&&(delete s._x_ignoreSelf,delete s._x_ignore,Un.forEach(o=>o(s)),s._x_ignore=!0,s._x_ignoreSelf=!0);t.forEach(s=>{delete s._x_ignoreSelf,delete s._x_ignore}),t=null,n=null,r=null,i=null}function Qn(e){return Fe(Ae(e))}function Me(e,t,n){return e._x_dataStack=[t,...Ae(n||e)],()=>{e._x_dataStack=e._x_dataStack.filter(r=>r!==t)}}function Ae(e){return e._x_dataStack?e._x_dataStack:typeof ShadowRoot=="function"&&e instanceof ShadowRoot?Ae(e.host):e.parentNode?Ae(e.parentNode):[]}function Fe(e){return new Proxy({objects:e},es)}var es={ownKeys({objects:e}){return Array.from(new Set(e.flatMap(t=>Object.keys(t))))},has({objects:e},t){return t==Symbol.unscopables?!1:e.some(n=>Object.prototype.hasOwnProperty.call(n,t)||Reflect.has(n,t))},get({objects:e},t,n){return t=="toJSON"?ts:Reflect.get(e.find(r=>Reflect.has(r,t))||{},t,n)},set({objects:e},t,n,r){let i=e.find(o=>Object.prototype.hasOwnProperty.call(o,t))||e[e.length-1],s=Object.getOwnPropertyDescriptor(i,t);return s?.set&&s?.get?s.set.call(r,n)||!0:Reflect.set(i,t,n)}};function ts(){return Reflect.ownKeys(this).reduce((t,n)=>(t[n]=Reflect.get(this,n),t),{})}function Kn(e){let t=r=>typeof r=="object"&&!Array.isArray(r)&&r!==null,n=(r,i="")=>{Object.entries(Object.getOwnPropertyDescriptors(r)).forEach(([s,{value:o,enumerable:a}])=>{if(a===!1||o===void 0||typeof o=="object"&&o!==null&&o.__v_skip)return;let l=i===""?s:`${i}.${s}`;typeof o=="object"&&o!==null&&o._x_interceptor?r[s]=o.initialize(e,l,s):t(o)&&o!==r&&!(o instanceof Element)&&n(o,l)})};return n(e)}function Gn(e,t=()=>{}){let n={initialValue:void 0,_x_interceptor:!0,initialize(r,i,s){return e(this.initialValue,()=>ns(r,i),o=>Ot(r,i,o),i,s)}};return t(n),r=>{if(typeof r=="object"&&r!==null&&r._x_interceptor){let i=n.initialize.bind(n);n.initialize=(s,o,a)=>{let l=r.initialize(s,o,a);return n.initialValue=l,i(s,o,a)}}else n.initialValue=r;return n}}function ns(e,t){return t.split(".").reduce((n,r)=>n[r],e)}function Ot(e,t,n){if(typeof t=="string"&&(t=t.split(".")),t.length===1)e[t[0]]=n;else{if(t.length===0)throw error;return e[t[0]]||(e[t[0]]={}),Ot(e[t[0]],t.slice(1),n)}}var Jn={};function ne(e,t){Jn[e]=t}function Rt(e,t){return Object.entries(Jn).forEach(([n,r])=>{let i=null;function s(){if(i)return i;{let[o,a]=rr(t);return i={interceptor:Gn,...o},jt(t,a),i}}Object.defineProperty(e,`$${n}`,{get(){return r(t,s())},enumerable:!1})}),e}function rs(e,t,n,...r){try{return n(...r)}catch(i){Le(i,e,t)}}function Le(e,t,n=void 0){e=Object.assign(e??{message:"No error message given."},{el:t,expression:n}),console.warn(`Alpine Expression Error: ${e.message}

${n?'Expression: "'+n+`"

`:""}`,t),setTimeout(()=>{throw e},0)}var Ze=!0;function Zn(e){let t=Ze;Ze=!1;let n=e();return Ze=t,n}function ye(e,t,n={}){let r;return X(e,t)(i=>r=i,n),r}function X(...e){return Yn(...e)}var Yn=er;function is(e){Yn=e}function er(e,t){let n={};Rt(n,e);let r=[n,...Ae(e)],i=typeof t=="function"?ss(r,t):as(r,t,e);return rs.bind(null,e,t,i)}function ss(e,t){return(n=()=>{},{scope:r={},params:i=[]}={})=>{let s=t.apply(Fe([r,...e]),i);tt(n,s)}}var bt={};function os(e,t){if(bt[e])return bt[e];let n=Object.getPrototypeOf(async function(){}).constructor,r=/^[\n\s]*if.*\(.*\)/.test(e.trim())||/^(let|const)\s/.test(e.trim())?`(async()=>{ ${e} })()`:e,s=(()=>{try{let o=new n(["__self","scope"],`with (scope) { __self.result = ${r} }; __self.finished = true; return __self.result;`);return Object.defineProperty(o,"name",{value:`[Alpine] ${e}`}),o}catch(o){return Le(o,t,e),Promise.resolve()}})();return bt[e]=s,s}function as(e,t,n){let r=os(t,n);return(i=()=>{},{scope:s={},params:o=[]}={})=>{r.result=void 0,r.finished=!1;let a=Fe([s,...e]);if(typeof r=="function"){let l=r(r,a).catch(u=>Le(u,n,t));r.finished?(tt(i,r.result,a,o,n),r.result=void 0):l.then(u=>{tt(i,u,a,o,n)}).catch(u=>Le(u,n,t)).finally(()=>r.result=void 0)}}}function tt(e,t,n,r,i){if(Ze&&typeof t=="function"){let s=t.apply(n,r);s instanceof Promise?s.then(o=>tt(e,o,n,r)).catch(o=>Le(o,i,t)):e(s)}else typeof t=="object"&&t instanceof Promise?t.then(s=>e(s)):e(t)}var Qt="x-";function Oe(e=""){return Qt+e}function ls(e){Qt=e}var nt={};function L(e,t){return nt[e]=t,{before(n){if(!nt[n]){console.warn(String.raw`Cannot find directive \`${n}\`. \`${e}\` will use the default order of execution`);return}let r=me.indexOf(n);me.splice(r>=0?r:me.indexOf("DEFAULT"),0,e)}}}function us(e){return Object.keys(nt).includes(e)}function Kt(e,t,n){if(t=Array.from(t),e._x_virtualDirectives){let s=Object.entries(e._x_virtualDirectives).map(([a,l])=>({name:a,value:l})),o=tr(s);s=s.map(a=>o.find(l=>l.name===a.name)?{name:`x-bind:${a.name}`,value:`"${a.value}"`}:a),t=t.concat(s)}let r={};return t.map(or((s,o)=>r[s]=o)).filter(lr).map(hs(r,n)).sort(ds).map(s=>fs(e,s))}function tr(e){return Array.from(e).map(or()).filter(t=>!lr(t))}var Dt=!1,Ne=new Map,nr=Symbol();function cs(e){Dt=!0;let t=Symbol();nr=t,Ne.set(t,[]);let n=()=>{for(;Ne.get(t).length;)Ne.get(t).shift()();Ne.delete(t)},r=()=>{Dt=!1,n()};e(n),r()}function rr(e){let t=[],n=a=>t.push(a),[r,i]=Qi(e);return t.push(i),[{Alpine:ke,effect:r,cleanup:n,evaluateLater:X.bind(X,e),evaluate:ye.bind(ye,e)},()=>t.forEach(a=>a())]}function fs(e,t){let n=()=>{},r=nt[t.type]||n,[i,s]=rr(e);zn(e,t.original,s);let o=()=>{e._x_ignore||e._x_ignoreSelf||(r.inline&&r.inline(e,t,i),r=r.bind(r,e,t,i),Dt?Ne.get(nr).push(r):r())};return o.runCleanups=s,o}var ir=(e,t)=>({name:n,value:r})=>(n.startsWith(e)&&(n=n.replace(e,t)),{name:n,value:r}),sr=e=>e;function or(e=()=>{}){return({name:t,value:n})=>{let{name:r,value:i}=ar.reduce((s,o)=>o(s),{name:t,value:n});return r!==t&&e(r,t),{name:r,value:i}}}var ar=[];function Gt(e){ar.push(e)}function lr({name:e}){return ur().test(e)}var ur=()=>new RegExp(`^${Qt}([^:^.]+)\\b`);function hs(e,t){return({name:n,value:r})=>{let i=n.match(ur()),s=n.match(/:([a-zA-Z0-9\-_:]+)/),o=n.match(/\.[^.\]]+(?=[^\]]*$)/g)||[],a=t||e[n]||n;return{type:i?i[1]:null,value:s?s[1]:null,modifiers:o.map(l=>l.replace(".","")),expression:r,original:a}}}var Ht="DEFAULT",me=["ignore","ref","data","id","anchor","bind","init","for","model","modelable","transition","show","if",Ht,"teleport"];function ds(e,t){let n=me.indexOf(e.type)===-1?Ht:e.type,r=me.indexOf(t.type)===-1?Ht:t.type;return me.indexOf(n)-me.indexOf(r)}function Be(e,t,n={}){e.dispatchEvent(new CustomEvent(t,{detail:n,bubbles:!0,composed:!0,cancelable:!0}))}function ce(e,t){if(typeof ShadowRoot=="function"&&e instanceof ShadowRoot){Array.from(e.children).forEach(i=>ce(i,t));return}let n=!1;if(t(e,()=>n=!0),n)return;let r=e.firstElementChild;for(;r;)ce(r,t,!1),r=r.nextElementSibling}function Y(e,...t){console.warn(`Alpine Warning: ${e}`,...t)}var An=!1;function ps(){An&&Y("Alpine has already been initialized on this page. Calling Alpine.start() more than once can cause problems."),An=!0,document.body||Y("Unable to initialize. Trying to load Alpine before `<body>` is available. Did you forget to add `defer` in Alpine's `<script>` tag?"),Be(document,"alpine:init"),Be(document,"alpine:initializing"),zt(),Ki(t=>oe(t,ce)),jt(t=>mr(t)),Vn((t,n)=>{Kt(t,n).forEach(r=>r())});let e=t=>!it(t.parentElement,!0);Array.from(document.querySelectorAll(hr().join(","))).filter(e).forEach(t=>{oe(t)}),Be(document,"alpine:initialized"),setTimeout(()=>{vs()})}var Jt=[],cr=[];function fr(){return Jt.map(e=>e())}function hr(){return Jt.concat(cr).map(e=>e())}function dr(e){Jt.push(e)}function pr(e){cr.push(e)}function it(e,t=!1){return Pe(e,n=>{if((t?hr():fr()).some(i=>n.matches(i)))return!0})}function Pe(e,t){if(e){if(t(e))return e;if(e._x_teleportBack&&(e=e._x_teleportBack),!!e.parentElement)return Pe(e.parentElement,t)}}function gs(e){return fr().some(t=>e.matches(t))}var gr=[];function ms(e){gr.push(e)}function oe(e,t=ce,n=()=>{}){cs(()=>{t(e,(r,i)=>{n(r,i),gr.forEach(s=>s(r,i)),Kt(r,r.attributes).forEach(s=>s()),r._x_ignore&&i()})})}function mr(e,t=ce){t(e,n=>{Wn(n),Gi(n)})}function vs(){[["ui","dialog",["[x-dialog], [x-popover]"]],["anchor","anchor",["[x-anchor]"]],["sort","sort",["[x-sort]"]]].forEach(([t,n,r])=>{us(n)||r.some(i=>{if(document.querySelector(i))return Y(`found "${i}", but missing ${t} plugin`),!0})})}var $t=[],Zt=!1;function Yt(e=()=>{}){return queueMicrotask(()=>{Zt||setTimeout(()=>{Nt()})}),new Promise(t=>{$t.push(()=>{e(),t()})})}function Nt(){for(Zt=!1;$t.length;)$t.shift()()}function ys(){Zt=!0}function en(e,t){return Array.isArray(t)?Cn(e,t.join(" ")):typeof t=="object"&&t!==null?xs(e,t):typeof t=="function"?en(e,t()):Cn(e,t)}function Cn(e,t){let n=s=>s.split(" ").filter(Boolean),r=s=>s.split(" ").filter(o=>!e.classList.contains(o)).filter(Boolean),i=s=>(e.classList.add(...s),()=>{e.classList.remove(...s)});return t=t===!0?t="":t||"",i(r(t))}function xs(e,t){let n=a=>a.split(" ").filter(Boolean),r=Object.entries(t).flatMap(([a,l])=>l?n(a):!1).filter(Boolean),i=Object.entries(t).flatMap(([a,l])=>l?!1:n(a)).filter(Boolean),s=[],o=[];return i.forEach(a=>{e.classList.contains(a)&&(e.classList.remove(a),o.push(a))}),r.forEach(a=>{e.classList.contains(a)||(e.classList.add(a),s.push(a))}),()=>{o.forEach(a=>e.classList.add(a)),s.forEach(a=>e.classList.remove(a))}}function st(e,t){return typeof t=="object"&&t!==null?bs(e,t):Es(e,t)}function bs(e,t){let n={};return Object.entries(t).forEach(([r,i])=>{n[r]=e.style[r],r.startsWith("--")||(r=ws(r)),e.style.setProperty(r,i)}),setTimeout(()=>{e.style.length===0&&e.removeAttribute("style")}),()=>{st(e,n)}}function Es(e,t){let n=e.getAttribute("style",t);return e.setAttribute("style",t),()=>{e.setAttribute("style",n||"")}}function ws(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Bt(e,t=()=>{}){let n=!1;return function(){n?t.apply(this,arguments):(n=!0,e.apply(this,arguments))}}L("transition",(e,{value:t,modifiers:n,expression:r},{evaluate:i})=>{typeof r=="function"&&(r=i(r)),r!==!1&&(!r||typeof r=="boolean"?_s(e,n,t):Ss(e,r,t))});function Ss(e,t,n){vr(e,en,""),{enter:i=>{e._x_transition.enter.during=i},"enter-start":i=>{e._x_transition.enter.start=i},"enter-end":i=>{e._x_transition.enter.end=i},leave:i=>{e._x_transition.leave.during=i},"leave-start":i=>{e._x_transition.leave.start=i},"leave-end":i=>{e._x_transition.leave.end=i}}[n](t)}function _s(e,t,n){vr(e,st);let r=!t.includes("in")&&!t.includes("out")&&!n,i=r||t.includes("in")||["enter"].includes(n),s=r||t.includes("out")||["leave"].includes(n);t.includes("in")&&!r&&(t=t.filter((m,x)=>x<t.indexOf("out"))),t.includes("out")&&!r&&(t=t.filter((m,x)=>x>t.indexOf("out")));let o=!t.includes("opacity")&&!t.includes("scale"),a=o||t.includes("opacity"),l=o||t.includes("scale"),u=a?0:1,c=l?He(t,"scale",95)/100:1,f=He(t,"delay",0)/1e3,h=He(t,"origin","center"),p="opacity, transform",b=He(t,"duration",150)/1e3,S=He(t,"duration",75)/1e3,d="cubic-bezier(0.4, 0.0, 0.2, 1)";i&&(e._x_transition.enter.during={transformOrigin:h,transitionDelay:`${f}s`,transitionProperty:p,transitionDuration:`${b}s`,transitionTimingFunction:d},e._x_transition.enter.start={opacity:u,transform:`scale(${c})`},e._x_transition.enter.end={opacity:1,transform:"scale(1)"}),s&&(e._x_transition.leave.during={transformOrigin:h,transitionDelay:`${f}s`,transitionProperty:p,transitionDuration:`${S}s`,transitionTimingFunction:d},e._x_transition.leave.start={opacity:1,transform:"scale(1)"},e._x_transition.leave.end={opacity:u,transform:`scale(${c})`})}function vr(e,t,n={}){e._x_transition||(e._x_transition={enter:{during:n,start:n,end:n},leave:{during:n,start:n,end:n},in(r=()=>{},i=()=>{}){qt(e,t,{during:this.enter.during,start:this.enter.start,end:this.enter.end},r,i)},out(r=()=>{},i=()=>{}){qt(e,t,{during:this.leave.during,start:this.leave.start,end:this.leave.end},r,i)}})}window.Element.prototype._x_toggleAndCascadeWithTransitions=function(e,t,n,r){let i=document.visibilityState==="visible"?requestAnimationFrame:setTimeout,s=()=>i(n);if(t){e._x_transition&&(e._x_transition.enter||e._x_transition.leave)?e._x_transition.enter&&(Object.entries(e._x_transition.enter.during).length||Object.entries(e._x_transition.enter.start).length||Object.entries(e._x_transition.enter.end).length)?e._x_transition.in(n):s():e._x_transition?e._x_transition.in(n):s();return}e._x_hidePromise=e._x_transition?new Promise((o,a)=>{e._x_transition.out(()=>{},()=>o(r)),e._x_transitioning&&e._x_transitioning.beforeCancel(()=>a({isFromCancelledTransition:!0}))}):Promise.resolve(r),queueMicrotask(()=>{let o=yr(e);o?(o._x_hideChildren||(o._x_hideChildren=[]),o._x_hideChildren.push(e)):i(()=>{let a=l=>{let u=Promise.all([l._x_hidePromise,...(l._x_hideChildren||[]).map(a)]).then(([c])=>c?.());return delete l._x_hidePromise,delete l._x_hideChildren,u};a(e).catch(l=>{if(!l.isFromCancelledTransition)throw l})})})};function yr(e){let t=e.parentNode;if(t)return t._x_hidePromise?t:yr(t)}function qt(e,t,{during:n,start:r,end:i}={},s=()=>{},o=()=>{}){if(e._x_transitioning&&e._x_transitioning.cancel(),Object.keys(n).length===0&&Object.keys(r).length===0&&Object.keys(i).length===0){s(),o();return}let a,l,u;As(e,{start(){a=t(e,r)},during(){l=t(e,n)},before:s,end(){a(),u=t(e,i)},after:o,cleanup(){l(),u()}})}function As(e,t){let n,r,i,s=Bt(()=>{F(()=>{n=!0,r||t.before(),i||(t.end(),Nt()),t.after(),e.isConnected&&t.cleanup(),delete e._x_transitioning})});e._x_transitioning={beforeCancels:[],beforeCancel(o){this.beforeCancels.push(o)},cancel:Bt(function(){for(;this.beforeCancels.length;)this.beforeCancels.shift()();s()}),finish:s},F(()=>{t.start(),t.during()}),ys(),requestAnimationFrame(()=>{if(n)return;let o=Number(getComputedStyle(e).transitionDuration.replace(/,.*/,"").replace("s",""))*1e3,a=Number(getComputedStyle(e).transitionDelay.replace(/,.*/,"").replace("s",""))*1e3;o===0&&(o=Number(getComputedStyle(e).animationDuration.replace("s",""))*1e3),F(()=>{t.before()}),r=!0,requestAnimationFrame(()=>{n||(F(()=>{t.end()}),Nt(),setTimeout(e._x_transitioning.finish,o+a),i=!0)})})}function He(e,t,n){if(e.indexOf(t)===-1)return n;let r=e[e.indexOf(t)+1];if(!r||t==="scale"&&isNaN(r))return n;if(t==="duration"||t==="delay"){let i=r.match(/([0-9]+)ms/);if(i)return i[1]}return t==="origin"&&["top","right","left","center","bottom"].includes(e[e.indexOf(t)+2])?[r,e[e.indexOf(t)+2]].join(" "):r}var fe=!1;function de(e,t=()=>{}){return(...n)=>fe?t(...n):e(...n)}function Cs(e){return(...t)=>fe&&e(...t)}var xr=[];function ot(e){xr.push(e)}function Is(e,t){xr.forEach(n=>n(e,t)),fe=!0,br(()=>{oe(t,(n,r)=>{r(n,()=>{})})}),fe=!1}var Lt=!1;function Ts(e,t){t._x_dataStack||(t._x_dataStack=e._x_dataStack),fe=!0,Lt=!0,br(()=>{Os(t)}),fe=!1,Lt=!1}function Os(e){let t=!1;oe(e,(r,i)=>{ce(r,(s,o)=>{if(t&&gs(s))return o();t=!0,i(s,o)})})}function br(e){let t=Ee;_n((n,r)=>{let i=t(n);return Te(i),()=>{}}),e(),_n(t)}function Er(e,t,n,r=[]){switch(e._x_bindings||(e._x_bindings=Ie({})),e._x_bindings[t]=n,t=r.includes("camel")?Ls(t):t,t){case"value":Rs(e,n);break;case"style":Hs(e,n);break;case"class":Ds(e,n);break;case"selected":case"checked":$s(e,t,n);break;default:wr(e,t,n);break}}function Rs(e,t){if(e.type==="radio")e.attributes.value===void 0&&(e.value=t),window.fromModel&&(typeof t=="boolean"?e.checked=Ye(e.value)===t:e.checked=In(e.value,t));else if(e.type==="checkbox")Number.isInteger(t)?e.value=t:!Array.isArray(t)&&typeof t!="boolean"&&![null,void 0].includes(t)?e.value=String(t):Array.isArray(t)?e.checked=t.some(n=>In(n,e.value)):e.checked=!!t;else if(e.tagName==="SELECT")qs(e,t);else{if(e.value===t)return;e.value=t===void 0?"":t}}function Ds(e,t){e._x_undoAddedClasses&&e._x_undoAddedClasses(),e._x_undoAddedClasses=en(e,t)}function Hs(e,t){e._x_undoAddedStyles&&e._x_undoAddedStyles(),e._x_undoAddedStyles=st(e,t)}function $s(e,t,n){wr(e,t,n),Bs(e,t,n)}function wr(e,t,n){[null,void 0,!1].includes(n)&&Ms(t)?e.removeAttribute(t):(Sr(t)&&(n=t),Ns(e,t,n))}function Ns(e,t,n){e.getAttribute(t)!=n&&e.setAttribute(t,n)}function Bs(e,t,n){e[t]!==n&&(e[t]=n)}function qs(e,t){let n=[].concat(t).map(r=>r+"");Array.from(e.options).forEach(r=>{r.selected=n.includes(r.value)})}function Ls(e){return e.toLowerCase().replace(/-(\w)/g,(t,n)=>n.toUpperCase())}function In(e,t){return e==t}function Ye(e){return[1,"1","true","on","yes",!0].includes(e)?!0:[0,"0","false","off","no",!1].includes(e)?!1:e?!!e:null}function Sr(e){return["disabled","checked","required","readonly","open","selected","autofocus","itemscope","multiple","novalidate","allowfullscreen","allowpaymentrequest","formnovalidate","autoplay","controls","loop","muted","playsinline","default","ismap","reversed","async","defer","nomodule"].includes(e)}function Ms(e){return!["aria-pressed","aria-checked","aria-expanded","aria-selected"].includes(e)}function Fs(e,t,n){return e._x_bindings&&e._x_bindings[t]!==void 0?e._x_bindings[t]:_r(e,t,n)}function Ps(e,t,n,r=!0){if(e._x_bindings&&e._x_bindings[t]!==void 0)return e._x_bindings[t];if(e._x_inlineBindings&&e._x_inlineBindings[t]!==void 0){let i=e._x_inlineBindings[t];return i.extract=r,Zn(()=>ye(e,i.expression))}return _r(e,t,n)}function _r(e,t,n){let r=e.getAttribute(t);return r===null?typeof n=="function"?n():n:r===""?!0:Sr(t)?!![t,"true"].includes(r):r}function Ar(e,t){var n;return function(){var r=this,i=arguments,s=function(){n=null,e.apply(r,i)};clearTimeout(n),n=setTimeout(s,t)}}function Cr(e,t){let n;return function(){let r=this,i=arguments;n||(e.apply(r,i),n=!0,setTimeout(()=>n=!1,t))}}function Ir({get:e,set:t},{get:n,set:r}){let i=!0,s,o,a=Ee(()=>{let l=e(),u=n();if(i)r(Et(l)),i=!1;else{let c=JSON.stringify(l),f=JSON.stringify(u);c!==s?r(Et(l)):c!==f&&t(Et(u))}s=JSON.stringify(e()),o=JSON.stringify(n())});return()=>{Te(a)}}function Et(e){return typeof e=="object"?JSON.parse(JSON.stringify(e)):e}function ks(e){(Array.isArray(e)?e:[e]).forEach(n=>n(ke))}var ge={},Tn=!1;function js(e,t){if(Tn||(ge=Ie(ge),Tn=!0),t===void 0)return ge[e];ge[e]=t,typeof t=="object"&&t!==null&&t.hasOwnProperty("init")&&typeof t.init=="function"&&ge[e].init(),Kn(ge[e])}function Us(){return ge}var Tr={};function Vs(e,t){let n=typeof t!="function"?()=>t:t;return e instanceof Element?Or(e,n()):(Tr[e]=n,()=>{})}function zs(e){return Object.entries(Tr).forEach(([t,n])=>{Object.defineProperty(e,t,{get(){return(...r)=>n(...r)}})}),e}function Or(e,t,n){let r=[];for(;r.length;)r.pop()();let i=Object.entries(t).map(([o,a])=>({name:o,value:a})),s=tr(i);return i=i.map(o=>s.find(a=>a.name===o.name)?{name:`x-bind:${o.name}`,value:`"${o.value}"`}:o),Kt(e,i,n).map(o=>{r.push(o.runCleanups),o()}),()=>{for(;r.length;)r.pop()()}}var Rr={};function Ws(e,t){Rr[e]=t}function Xs(e,t){return Object.entries(Rr).forEach(([n,r])=>{Object.defineProperty(e,n,{get(){return(...i)=>r.bind(t)(...i)},enumerable:!1})}),e}var Qs={get reactive(){return Ie},get release(){return Te},get effect(){return Ee},get raw(){return Fn},version:"3.14.1",flushAndStopDeferringMutations:Yi,dontAutoEvaluateFunctions:Zn,disableEffectScheduling:Wi,startObservingMutations:zt,stopObservingMutations:Xn,setReactivityEngine:Xi,onAttributeRemoved:zn,onAttributesAdded:Vn,closestDataStack:Ae,skipDuringClone:de,onlyDuringClone:Cs,addRootSelector:dr,addInitSelector:pr,interceptClone:ot,addScopeToNode:Me,deferMutations:Zi,mapAttributes:Gt,evaluateLater:X,interceptInit:ms,setEvaluator:is,mergeProxies:Fe,extractProp:Ps,findClosest:Pe,onElRemoved:jt,closestRoot:it,destroyTree:mr,interceptor:Gn,transition:qt,setStyles:st,mutateDom:F,directive:L,entangle:Ir,throttle:Cr,debounce:Ar,evaluate:ye,initTree:oe,nextTick:Yt,prefixed:Oe,prefix:ls,plugin:ks,magic:ne,store:js,start:ps,clone:Ts,cloneNode:Is,bound:Fs,$data:Qn,watch:Pn,walk:ce,data:Ws,bind:Vs},ke=Qs;function Dr(e,t){let n=Object.create(null),r=e.split(",");for(let i=0;i<r.length;i++)n[r[i]]=!0;return t?i=>!!n[i.toLowerCase()]:i=>!!n[i]}var Ks="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Ma=Dr(Ks+",async,autofocus,autoplay,controls,default,defer,disabled,hidden,loop,open,required,reversed,scoped,seamless,checked,muted,multiple,selected"),Gs=Object.freeze({}),Fa=Object.freeze([]),Js=Object.prototype.hasOwnProperty,at=(e,t)=>Js.call(e,t),xe=Array.isArray,qe=e=>Hr(e)==="[object Map]",Zs=e=>typeof e=="string",tn=e=>typeof e=="symbol",lt=e=>e!==null&&typeof e=="object",Ys=Object.prototype.toString,Hr=e=>Ys.call(e),$r=e=>Hr(e).slice(8,-1),nn=e=>Zs(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,ut=e=>{let t=Object.create(null);return n=>t[n]||(t[n]=e(n))},eo=/-(\w)/g,Pa=ut(e=>e.replace(eo,(t,n)=>n?n.toUpperCase():"")),to=/\B([A-Z])/g,ka=ut(e=>e.replace(to,"-$1").toLowerCase()),Nr=ut(e=>e.charAt(0).toUpperCase()+e.slice(1)),ja=ut(e=>e?`on${Nr(e)}`:""),Br=(e,t)=>e!==t&&(e===e||t===t),Mt=new WeakMap,$e=[],se,be=Symbol("iterate"),Ft=Symbol("Map key iterate");function no(e){return e&&e._isEffect===!0}function ro(e,t=Gs){no(e)&&(e=e.raw);let n=oo(e,t);return t.lazy||n(),n}function io(e){e.active&&(qr(e),e.options.onStop&&e.options.onStop(),e.active=!1)}var so=0;function oo(e,t){let n=function(){if(!n.active)return e();if(!$e.includes(n)){qr(n);try{return lo(),$e.push(n),se=n,e()}finally{$e.pop(),Lr(),se=$e[$e.length-1]}}};return n.id=so++,n.allowRecurse=!!t.allowRecurse,n._isEffect=!0,n.active=!0,n.raw=e,n.deps=[],n.options=t,n}function qr(e){let{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}var Ce=!0,rn=[];function ao(){rn.push(Ce),Ce=!1}function lo(){rn.push(Ce),Ce=!0}function Lr(){let e=rn.pop();Ce=e===void 0?!0:e}function te(e,t,n){if(!Ce||se===void 0)return;let r=Mt.get(e);r||Mt.set(e,r=new Map);let i=r.get(n);i||r.set(n,i=new Set),i.has(se)||(i.add(se),se.deps.push(i),se.options.onTrack&&se.options.onTrack({effect:se,target:e,type:t,key:n}))}function he(e,t,n,r,i,s){let o=Mt.get(e);if(!o)return;let a=new Set,l=c=>{c&&c.forEach(f=>{(f!==se||f.allowRecurse)&&a.add(f)})};if(t==="clear")o.forEach(l);else if(n==="length"&&xe(e))o.forEach((c,f)=>{(f==="length"||f>=r)&&l(c)});else switch(n!==void 0&&l(o.get(n)),t){case"add":xe(e)?nn(n)&&l(o.get("length")):(l(o.get(be)),qe(e)&&l(o.get(Ft)));break;case"delete":xe(e)||(l(o.get(be)),qe(e)&&l(o.get(Ft)));break;case"set":qe(e)&&l(o.get(be));break}let u=c=>{c.options.onTrigger&&c.options.onTrigger({effect:c,target:e,key:n,type:t,newValue:r,oldValue:i,oldTarget:s}),c.options.scheduler?c.options.scheduler(c):c()};a.forEach(u)}var uo=Dr("__proto__,__v_isRef,__isVue"),Mr=new Set(Object.getOwnPropertyNames(Symbol).map(e=>Symbol[e]).filter(tn)),co=Fr(),fo=Fr(!0),On=ho();function ho(){let e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){let r=D(this);for(let s=0,o=this.length;s<o;s++)te(r,"get",s+"");let i=r[t](...n);return i===-1||i===!1?r[t](...n.map(D)):i}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){ao();let r=D(this)[t].apply(this,n);return Lr(),r}}),e}function Fr(e=!1,t=!1){return function(r,i,s){if(i==="__v_isReactive")return!e;if(i==="__v_isReadonly")return e;if(i==="__v_raw"&&s===(e?t?Oo:Ur:t?To:jr).get(r))return r;let o=xe(r);if(!e&&o&&at(On,i))return Reflect.get(On,i,s);let a=Reflect.get(r,i,s);return(tn(i)?Mr.has(i):uo(i))||(e||te(r,"get",i),t)?a:Pt(a)?!o||!nn(i)?a.value:a:lt(a)?e?Vr(a):ln(a):a}}var po=go();function go(e=!1){return function(n,r,i,s){let o=n[r];if(!e&&(i=D(i),o=D(o),!xe(n)&&Pt(o)&&!Pt(i)))return o.value=i,!0;let a=xe(n)&&nn(r)?Number(r)<n.length:at(n,r),l=Reflect.set(n,r,i,s);return n===D(s)&&(a?Br(i,o)&&he(n,"set",r,i,o):he(n,"add",r,i)),l}}function mo(e,t){let n=at(e,t),r=e[t],i=Reflect.deleteProperty(e,t);return i&&n&&he(e,"delete",t,void 0,r),i}function vo(e,t){let n=Reflect.has(e,t);return(!tn(t)||!Mr.has(t))&&te(e,"has",t),n}function yo(e){return te(e,"iterate",xe(e)?"length":be),Reflect.ownKeys(e)}var xo={get:co,set:po,deleteProperty:mo,has:vo,ownKeys:yo},bo={get:fo,set(e,t){return console.warn(`Set operation on key "${String(t)}" failed: target is readonly.`,e),!0},deleteProperty(e,t){return console.warn(`Delete operation on key "${String(t)}" failed: target is readonly.`,e),!0}},sn=e=>lt(e)?ln(e):e,on=e=>lt(e)?Vr(e):e,an=e=>e,ct=e=>Reflect.getPrototypeOf(e);function Xe(e,t,n=!1,r=!1){e=e.__v_raw;let i=D(e),s=D(t);t!==s&&!n&&te(i,"get",t),!n&&te(i,"get",s);let{has:o}=ct(i),a=r?an:n?on:sn;if(o.call(i,t))return a(e.get(t));if(o.call(i,s))return a(e.get(s));e!==i&&e.get(t)}function Qe(e,t=!1){let n=this.__v_raw,r=D(n),i=D(e);return e!==i&&!t&&te(r,"has",e),!t&&te(r,"has",i),e===i?n.has(e):n.has(e)||n.has(i)}function Ke(e,t=!1){return e=e.__v_raw,!t&&te(D(e),"iterate",be),Reflect.get(e,"size",e)}function Rn(e){e=D(e);let t=D(this);return ct(t).has.call(t,e)||(t.add(e),he(t,"add",e,e)),this}function Dn(e,t){t=D(t);let n=D(this),{has:r,get:i}=ct(n),s=r.call(n,e);s?kr(n,r,e):(e=D(e),s=r.call(n,e));let o=i.call(n,e);return n.set(e,t),s?Br(t,o)&&he(n,"set",e,t,o):he(n,"add",e,t),this}function Hn(e){let t=D(this),{has:n,get:r}=ct(t),i=n.call(t,e);i?kr(t,n,e):(e=D(e),i=n.call(t,e));let s=r?r.call(t,e):void 0,o=t.delete(e);return i&&he(t,"delete",e,void 0,s),o}function $n(){let e=D(this),t=e.size!==0,n=qe(e)?new Map(e):new Set(e),r=e.clear();return t&&he(e,"clear",void 0,void 0,n),r}function Ge(e,t){return function(r,i){let s=this,o=s.__v_raw,a=D(o),l=t?an:e?on:sn;return!e&&te(a,"iterate",be),o.forEach((u,c)=>r.call(i,l(u),l(c),s))}}function Je(e,t,n){return function(...r){let i=this.__v_raw,s=D(i),o=qe(s),a=e==="entries"||e===Symbol.iterator&&o,l=e==="keys"&&o,u=i[e](...r),c=n?an:t?on:sn;return!t&&te(s,"iterate",l?Ft:be),{next(){let{value:f,done:h}=u.next();return h?{value:f,done:h}:{value:a?[c(f[0]),c(f[1])]:c(f),done:h}},[Symbol.iterator](){return this}}}}function ue(e){return function(...t){{let n=t[0]?`on key "${t[0]}" `:"";console.warn(`${Nr(e)} operation ${n}failed: target is readonly.`,D(this))}return e==="delete"?!1:this}}function Eo(){let e={get(s){return Xe(this,s)},get size(){return Ke(this)},has:Qe,add:Rn,set:Dn,delete:Hn,clear:$n,forEach:Ge(!1,!1)},t={get(s){return Xe(this,s,!1,!0)},get size(){return Ke(this)},has:Qe,add:Rn,set:Dn,delete:Hn,clear:$n,forEach:Ge(!1,!0)},n={get(s){return Xe(this,s,!0)},get size(){return Ke(this,!0)},has(s){return Qe.call(this,s,!0)},add:ue("add"),set:ue("set"),delete:ue("delete"),clear:ue("clear"),forEach:Ge(!0,!1)},r={get(s){return Xe(this,s,!0,!0)},get size(){return Ke(this,!0)},has(s){return Qe.call(this,s,!0)},add:ue("add"),set:ue("set"),delete:ue("delete"),clear:ue("clear"),forEach:Ge(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{e[s]=Je(s,!1,!1),n[s]=Je(s,!0,!1),t[s]=Je(s,!1,!0),r[s]=Je(s,!0,!0)}),[e,n,t,r]}var[wo,So,_o,Ao]=Eo();function Pr(e,t){let n=t?e?Ao:_o:e?So:wo;return(r,i,s)=>i==="__v_isReactive"?!e:i==="__v_isReadonly"?e:i==="__v_raw"?r:Reflect.get(at(n,i)&&i in r?n:r,i,s)}var Co={get:Pr(!1,!1)},Io={get:Pr(!0,!1)};function kr(e,t,n){let r=D(n);if(r!==n&&t.call(e,r)){let i=$r(e);console.warn(`Reactive ${i} contains both the raw and reactive versions of the same object${i==="Map"?" as keys":""}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`)}}var jr=new WeakMap,To=new WeakMap,Ur=new WeakMap,Oo=new WeakMap;function Ro(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Do(e){return e.__v_skip||!Object.isExtensible(e)?0:Ro($r(e))}function ln(e){return e&&e.__v_isReadonly?e:zr(e,!1,xo,Co,jr)}function Vr(e){return zr(e,!0,bo,Io,Ur)}function zr(e,t,n,r,i){if(!lt(e))return console.warn(`value cannot be made reactive: ${String(e)}`),e;if(e.__v_raw&&!(t&&e.__v_isReactive))return e;let s=i.get(e);if(s)return s;let o=Do(e);if(o===0)return e;let a=new Proxy(e,o===2?r:n);return i.set(e,a),a}function D(e){return e&&D(e.__v_raw)||e}function Pt(e){return!!(e&&e.__v_isRef===!0)}ne("nextTick",()=>Yt);ne("dispatch",e=>Be.bind(Be,e));ne("watch",(e,{evaluateLater:t,cleanup:n})=>(r,i)=>{let s=t(r),a=Pn(()=>{let l;return s(u=>l=u),l},i);n(a)});ne("store",Us);ne("data",e=>Qn(e));ne("root",e=>it(e));ne("refs",e=>(e._x_refs_proxy||(e._x_refs_proxy=Fe(Ho(e))),e._x_refs_proxy));function Ho(e){let t=[];return Pe(e,n=>{n._x_refs&&t.push(n._x_refs)}),t}var wt={};function Wr(e){return wt[e]||(wt[e]=0),++wt[e]}function $o(e,t){return Pe(e,n=>{if(n._x_ids&&n._x_ids[t])return!0})}function No(e,t){e._x_ids||(e._x_ids={}),e._x_ids[t]||(e._x_ids[t]=Wr(t))}ne("id",(e,{cleanup:t})=>(n,r=null)=>{let i=`${n}${r?`-${r}`:""}`;return Bo(e,i,t,()=>{let s=$o(e,n),o=s?s._x_ids[n]:Wr(n);return r?`${n}-${o}-${r}`:`${n}-${o}`})});ot((e,t)=>{e._x_id&&(t._x_id=e._x_id)});function Bo(e,t,n,r){if(e._x_id||(e._x_id={}),e._x_id[t])return e._x_id[t];let i=r();return e._x_id[t]=i,n(()=>{delete e._x_id[t]}),i}ne("el",e=>e);Xr("Focus","focus","focus");Xr("Persist","persist","persist");function Xr(e,t,n){ne(t,r=>Y(`You can't use [$${t}] without first installing the "${e}" plugin here: https://alpinejs.dev/plugins/${n}`,r))}L("modelable",(e,{expression:t},{effect:n,evaluateLater:r,cleanup:i})=>{let s=r(t),o=()=>{let c;return s(f=>c=f),c},a=r(`${t} = __placeholder`),l=c=>a(()=>{},{scope:{__placeholder:c}}),u=o();l(u),queueMicrotask(()=>{if(!e._x_model)return;e._x_removeModelListeners.default();let c=e._x_model.get,f=e._x_model.set,h=Ir({get(){return c()},set(p){f(p)}},{get(){return o()},set(p){l(p)}});i(h)})});L("teleport",(e,{modifiers:t,expression:n},{cleanup:r})=>{e.tagName.toLowerCase()!=="template"&&Y("x-teleport can only be used on a <template> tag",e);let i=Nn(n),s=e.content.cloneNode(!0).firstElementChild;e._x_teleport=s,s._x_teleportBack=e,e.setAttribute("data-teleport-template",!0),s.setAttribute("data-teleport-target",!0),e._x_forwardEvents&&e._x_forwardEvents.forEach(a=>{s.addEventListener(a,l=>{l.stopPropagation(),e.dispatchEvent(new l.constructor(l.type,l))})}),Me(s,{},e);let o=(a,l,u)=>{u.includes("prepend")?l.parentNode.insertBefore(a,l):u.includes("append")?l.parentNode.insertBefore(a,l.nextSibling):l.appendChild(a)};F(()=>{o(s,i,t),de(()=>{oe(s),s._x_ignore=!0})()}),e._x_teleportPutBack=()=>{let a=Nn(n);F(()=>{o(e._x_teleport,a,t)})},r(()=>s.remove())});var qo=document.createElement("div");function Nn(e){let t=de(()=>document.querySelector(e),()=>qo)();return t||Y(`Cannot find x-teleport element for selector: "${e}"`),t}var Qr=()=>{};Qr.inline=(e,{modifiers:t},{cleanup:n})=>{t.includes("self")?e._x_ignoreSelf=!0:e._x_ignore=!0,n(()=>{t.includes("self")?delete e._x_ignoreSelf:delete e._x_ignore})};L("ignore",Qr);L("effect",de((e,{expression:t},{effect:n})=>{n(X(e,t))}));function kt(e,t,n,r){let i=e,s=l=>r(l),o={},a=(l,u)=>c=>u(l,c);if(n.includes("dot")&&(t=Lo(t)),n.includes("camel")&&(t=Mo(t)),n.includes("passive")&&(o.passive=!0),n.includes("capture")&&(o.capture=!0),n.includes("window")&&(i=window),n.includes("document")&&(i=document),n.includes("debounce")){let l=n[n.indexOf("debounce")+1]||"invalid-wait",u=rt(l.split("ms")[0])?Number(l.split("ms")[0]):250;s=Ar(s,u)}if(n.includes("throttle")){let l=n[n.indexOf("throttle")+1]||"invalid-wait",u=rt(l.split("ms")[0])?Number(l.split("ms")[0]):250;s=Cr(s,u)}return n.includes("prevent")&&(s=a(s,(l,u)=>{u.preventDefault(),l(u)})),n.includes("stop")&&(s=a(s,(l,u)=>{u.stopPropagation(),l(u)})),n.includes("once")&&(s=a(s,(l,u)=>{l(u),i.removeEventListener(t,s,o)})),(n.includes("away")||n.includes("outside"))&&(i=document,s=a(s,(l,u)=>{e.contains(u.target)||u.target.isConnected!==!1&&(e.offsetWidth<1&&e.offsetHeight<1||e._x_isShown!==!1&&l(u))})),n.includes("self")&&(s=a(s,(l,u)=>{u.target===e&&l(u)})),(Po(t)||Kr(t))&&(s=a(s,(l,u)=>{ko(u,n)||l(u)})),i.addEventListener(t,s,o),()=>{i.removeEventListener(t,s,o)}}function Lo(e){return e.replace(/-/g,".")}function Mo(e){return e.toLowerCase().replace(/-(\w)/g,(t,n)=>n.toUpperCase())}function rt(e){return!Array.isArray(e)&&!isNaN(e)}function Fo(e){return[" ","_"].includes(e)?e:e.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[_\s]/,"-").toLowerCase()}function Po(e){return["keydown","keyup"].includes(e)}function Kr(e){return["contextmenu","click","mouse"].some(t=>e.includes(t))}function ko(e,t){let n=t.filter(s=>!["window","document","prevent","stop","once","capture","self","away","outside","passive"].includes(s));if(n.includes("debounce")){let s=n.indexOf("debounce");n.splice(s,rt((n[s+1]||"invalid-wait").split("ms")[0])?2:1)}if(n.includes("throttle")){let s=n.indexOf("throttle");n.splice(s,rt((n[s+1]||"invalid-wait").split("ms")[0])?2:1)}if(n.length===0||n.length===1&&Bn(e.key).includes(n[0]))return!1;let i=["ctrl","shift","alt","meta","cmd","super"].filter(s=>n.includes(s));return n=n.filter(s=>!i.includes(s)),!(i.length>0&&i.filter(o=>((o==="cmd"||o==="super")&&(o="meta"),e[`${o}Key`])).length===i.length&&(Kr(e.type)||Bn(e.key).includes(n[0])))}function Bn(e){if(!e)return[];e=Fo(e);let t={ctrl:"control",slash:"/",space:" ",spacebar:" ",cmd:"meta",esc:"escape",up:"arrow-up",down:"arrow-down",left:"arrow-left",right:"arrow-right",period:".",comma:",",equal:"=",minus:"-",underscore:"_"};return t[e]=e,Object.keys(t).map(n=>{if(t[n]===e)return n}).filter(n=>n)}L("model",(e,{modifiers:t,expression:n},{effect:r,cleanup:i})=>{let s=e;t.includes("parent")&&(s=e.parentNode);let o=X(s,n),a;typeof n=="string"?a=X(s,`${n} = __placeholder`):typeof n=="function"&&typeof n()=="string"?a=X(s,`${n()} = __placeholder`):a=()=>{};let l=()=>{let h;return o(p=>h=p),qn(h)?h.get():h},u=h=>{let p;o(b=>p=b),qn(p)?p.set(h):a(()=>{},{scope:{__placeholder:h}})};typeof n=="string"&&e.type==="radio"&&F(()=>{e.hasAttribute("name")||e.setAttribute("name",n)});var c=e.tagName.toLowerCase()==="select"||["checkbox","radio"].includes(e.type)||t.includes("lazy")?"change":"input";let f=fe?()=>{}:kt(e,c,t,h=>{u(St(e,t,h,l()))});if(t.includes("fill")&&([void 0,null,""].includes(l())||e.type==="checkbox"&&Array.isArray(l())||e.tagName.toLowerCase()==="select"&&e.multiple)&&u(St(e,t,{target:e},l())),e._x_removeModelListeners||(e._x_removeModelListeners={}),e._x_removeModelListeners.default=f,i(()=>e._x_removeModelListeners.default()),e.form){let h=kt(e.form,"reset",[],p=>{Yt(()=>e._x_model&&e._x_model.set(St(e,t,{target:e},l())))});i(()=>h())}e._x_model={get(){return l()},set(h){u(h)}},e._x_forceModelUpdate=h=>{h===void 0&&typeof n=="string"&&n.match(/\./)&&(h=""),window.fromModel=!0,F(()=>Er(e,"value",h)),delete window.fromModel},r(()=>{let h=l();t.includes("unintrusive")&&document.activeElement.isSameNode(e)||e._x_forceModelUpdate(h)})});function St(e,t,n,r){return F(()=>{if(n instanceof CustomEvent&&n.detail!==void 0)return n.detail!==null&&n.detail!==void 0?n.detail:n.target.value;if(e.type==="checkbox")if(Array.isArray(r)){let i=null;return t.includes("number")?i=_t(n.target.value):t.includes("boolean")?i=Ye(n.target.value):i=n.target.value,n.target.checked?r.includes(i)?r:r.concat([i]):r.filter(s=>!jo(s,i))}else return n.target.checked;else{if(e.tagName.toLowerCase()==="select"&&e.multiple)return t.includes("number")?Array.from(n.target.selectedOptions).map(i=>{let s=i.value||i.text;return _t(s)}):t.includes("boolean")?Array.from(n.target.selectedOptions).map(i=>{let s=i.value||i.text;return Ye(s)}):Array.from(n.target.selectedOptions).map(i=>i.value||i.text);{let i;return e.type==="radio"?n.target.checked?i=n.target.value:i=r:i=n.target.value,t.includes("number")?_t(i):t.includes("boolean")?Ye(i):t.includes("trim")?i.trim():i}}})}function _t(e){let t=e?parseFloat(e):null;return Uo(t)?t:e}function jo(e,t){return e==t}function Uo(e){return!Array.isArray(e)&&!isNaN(e)}function qn(e){return e!==null&&typeof e=="object"&&typeof e.get=="function"&&typeof e.set=="function"}L("cloak",e=>queueMicrotask(()=>F(()=>e.removeAttribute(Oe("cloak")))));pr(()=>`[${Oe("init")}]`);L("init",de((e,{expression:t},{evaluate:n})=>typeof t=="string"?!!t.trim()&&n(t,{},!1):n(t,{},!1)));L("text",(e,{expression:t},{effect:n,evaluateLater:r})=>{let i=r(t);n(()=>{i(s=>{F(()=>{e.textContent=s})})})});L("html",(e,{expression:t},{effect:n,evaluateLater:r})=>{let i=r(t);n(()=>{i(s=>{F(()=>{e.innerHTML=s,e._x_ignoreSelf=!0,oe(e),delete e._x_ignoreSelf})})})});Gt(ir(":",sr(Oe("bind:"))));var Gr=(e,{value:t,modifiers:n,expression:r,original:i},{effect:s,cleanup:o})=>{if(!t){let l={};zs(l),X(e,r)(c=>{Or(e,c,i)},{scope:l});return}if(t==="key")return Vo(e,r);if(e._x_inlineBindings&&e._x_inlineBindings[t]&&e._x_inlineBindings[t].extract)return;let a=X(e,r);s(()=>a(l=>{l===void 0&&typeof r=="string"&&r.match(/\./)&&(l=""),F(()=>Er(e,t,l,n))})),o(()=>{e._x_undoAddedClasses&&e._x_undoAddedClasses(),e._x_undoAddedStyles&&e._x_undoAddedStyles()})};Gr.inline=(e,{value:t,modifiers:n,expression:r})=>{t&&(e._x_inlineBindings||(e._x_inlineBindings={}),e._x_inlineBindings[t]={expression:r,extract:!1})};L("bind",Gr);function Vo(e,t){e._x_keyExpression=t}dr(()=>`[${Oe("data")}]`);L("data",(e,{expression:t},{cleanup:n})=>{if(zo(e))return;t=t===""?"{}":t;let r={};Rt(r,e);let i={};Xs(i,r);let s=ye(e,t,{scope:i});(s===void 0||s===!0)&&(s={}),Rt(s,e);let o=Ie(s);Kn(o);let a=Me(e,o);o.init&&ye(e,o.init),n(()=>{o.destroy&&ye(e,o.destroy),a()})});ot((e,t)=>{e._x_dataStack&&(t._x_dataStack=e._x_dataStack,t.setAttribute("data-has-alpine-state",!0))});function zo(e){return fe?Lt?!0:e.hasAttribute("data-has-alpine-state"):!1}L("show",(e,{modifiers:t,expression:n},{effect:r})=>{let i=X(e,n);e._x_doHide||(e._x_doHide=()=>{F(()=>{e.style.setProperty("display","none",t.includes("important")?"important":void 0)})}),e._x_doShow||(e._x_doShow=()=>{F(()=>{e.style.length===1&&e.style.display==="none"?e.removeAttribute("style"):e.style.removeProperty("display")})});let s=()=>{e._x_doHide(),e._x_isShown=!1},o=()=>{e._x_doShow(),e._x_isShown=!0},a=()=>setTimeout(o),l=Bt(f=>f?o():s(),f=>{typeof e._x_toggleAndCascadeWithTransitions=="function"?e._x_toggleAndCascadeWithTransitions(e,f,o,s):f?a():s()}),u,c=!0;r(()=>i(f=>{!c&&f===u||(t.includes("immediate")&&(f?a():s()),l(f),u=f,c=!1)}))});L("for",(e,{expression:t},{effect:n,cleanup:r})=>{let i=Xo(t),s=X(e,i.items),o=X(e,e._x_keyExpression||"index");e._x_prevKeys=[],e._x_lookup={},n(()=>Wo(e,i,s,o)),r(()=>{Object.values(e._x_lookup).forEach(a=>a.remove()),delete e._x_prevKeys,delete e._x_lookup})});function Wo(e,t,n,r){let i=o=>typeof o=="object"&&!Array.isArray(o),s=e;n(o=>{Qo(o)&&o>=0&&(o=Array.from(Array(o).keys(),d=>d+1)),o===void 0&&(o=[]);let a=e._x_lookup,l=e._x_prevKeys,u=[],c=[];if(i(o))o=Object.entries(o).map(([d,m])=>{let x=Ln(t,m,d,o);r(v=>{c.includes(v)&&Y("Duplicate key on x-for",e),c.push(v)},{scope:{index:d,...x}}),u.push(x)});else for(let d=0;d<o.length;d++){let m=Ln(t,o[d],d,o);r(x=>{c.includes(x)&&Y("Duplicate key on x-for",e),c.push(x)},{scope:{index:d,...m}}),u.push(m)}let f=[],h=[],p=[],b=[];for(let d=0;d<l.length;d++){let m=l[d];c.indexOf(m)===-1&&p.push(m)}l=l.filter(d=>!p.includes(d));let S="template";for(let d=0;d<c.length;d++){let m=c[d],x=l.indexOf(m);if(x===-1)l.splice(d,0,m),f.push([S,d]);else if(x!==d){let v=l.splice(d,1)[0],w=l.splice(x-1,1)[0];l.splice(d,0,w),l.splice(x,0,v),h.push([v,w])}else b.push(m);S=m}for(let d=0;d<p.length;d++){let m=p[d];a[m]._x_effects&&a[m]._x_effects.forEach(Mn),a[m].remove(),a[m]=null,delete a[m]}for(let d=0;d<h.length;d++){let[m,x]=h[d],v=a[m],w=a[x],O=document.createElement("div");F(()=>{w||Y('x-for ":key" is undefined or invalid',s,x,a),w.after(O),v.after(w),w._x_currentIfEl&&w.after(w._x_currentIfEl),O.before(v),v._x_currentIfEl&&v.after(v._x_currentIfEl),O.remove()}),w._x_refreshXForScope(u[c.indexOf(x)])}for(let d=0;d<f.length;d++){let[m,x]=f[d],v=m==="template"?s:a[m];v._x_currentIfEl&&(v=v._x_currentIfEl);let w=u[x],O=c[x],T=document.importNode(s.content,!0).firstElementChild,A=Ie(w);Me(T,A,s),T._x_refreshXForScope=y=>{Object.entries(y).forEach(([E,B])=>{A[E]=B})},F(()=>{v.after(T),de(()=>oe(T))()}),typeof O=="object"&&Y("x-for key cannot be an object, it must be a string or an integer",s),a[O]=T}for(let d=0;d<b.length;d++)a[b[d]]._x_refreshXForScope(u[c.indexOf(b[d])]);s._x_prevKeys=c})}function Xo(e){let t=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,n=/^\s*\(|\)\s*$/g,r=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,i=e.match(r);if(!i)return;let s={};s.items=i[2].trim();let o=i[1].replace(n,"").trim(),a=o.match(t);return a?(s.item=o.replace(t,"").trim(),s.index=a[1].trim(),a[2]&&(s.collection=a[2].trim())):s.item=o,s}function Ln(e,t,n,r){let i={};return/^\[.*\]$/.test(e.item)&&Array.isArray(t)?e.item.replace("[","").replace("]","").split(",").map(o=>o.trim()).forEach((o,a)=>{i[o]=t[a]}):/^\{.*\}$/.test(e.item)&&!Array.isArray(t)&&typeof t=="object"?e.item.replace("{","").replace("}","").split(",").map(o=>o.trim()).forEach(o=>{i[o]=t[o]}):i[e.item]=t,e.index&&(i[e.index]=n),e.collection&&(i[e.collection]=r),i}function Qo(e){return!Array.isArray(e)&&!isNaN(e)}function Jr(){}Jr.inline=(e,{expression:t},{cleanup:n})=>{let r=it(e);r._x_refs||(r._x_refs={}),r._x_refs[t]=e,n(()=>delete r._x_refs[t])};L("ref",Jr);L("if",(e,{expression:t},{effect:n,cleanup:r})=>{e.tagName.toLowerCase()!=="template"&&Y("x-if can only be used on a <template> tag",e);let i=X(e,t),s=()=>{if(e._x_currentIfEl)return e._x_currentIfEl;let a=e.content.cloneNode(!0).firstElementChild;return Me(a,{},e),F(()=>{e.after(a),de(()=>oe(a))()}),e._x_currentIfEl=a,e._x_undoIf=()=>{ce(a,l=>{l._x_effects&&l._x_effects.forEach(Mn)}),a.remove(),delete e._x_currentIfEl},a},o=()=>{e._x_undoIf&&(e._x_undoIf(),delete e._x_undoIf)};n(()=>i(a=>{a?s():o()})),r(()=>e._x_undoIf&&e._x_undoIf())});L("id",(e,{expression:t},{evaluate:n})=>{n(t).forEach(i=>No(e,i))});ot((e,t)=>{e._x_ids&&(t._x_ids=e._x_ids)});Gt(ir("@",sr(Oe("on:"))));L("on",de((e,{value:t,modifiers:n,expression:r},{cleanup:i})=>{let s=r?X(e,r):()=>{};e.tagName.toLowerCase()==="template"&&(e._x_forwardEvents||(e._x_forwardEvents=[]),e._x_forwardEvents.includes(t)||e._x_forwardEvents.push(t));let o=kt(e,t,n,a=>{s(()=>{},{scope:{$event:a},params:[a]})});i(()=>o())}));ft("Collapse","collapse","collapse");ft("Intersect","intersect","intersect");ft("Focus","trap","focus");ft("Mask","mask","mask");function ft(e,t,n){L(t,r=>Y(`You can't use [x-${t}] without first installing the "${e}" plugin here: https://alpinejs.dev/plugins/${n}`,r))}ke.setEvaluator(er);ke.setReactivityEngine({reactive:ln,effect:ro,release:io,raw:D});var Ko=ke,H=Ko;function Go(e){let t=()=>{let n,r;try{r=localStorage}catch(i){console.error(i),console.warn("Alpine: $persist is using temporary storage since localStorage is unavailable.");let s=new Map;r={getItem:s.get.bind(s),setItem:s.set.bind(s)}}return e.interceptor((i,s,o,a,l)=>{let u=n||`_x_${a}`,c=Zr(u,r)?Yr(u,r):i;return o(c),e.effect(()=>{let f=s();ei(u,f,r),o(f)}),c},i=>{i.as=s=>(n=s,i),i.using=s=>(r=s,i)})};Object.defineProperty(e,"$persist",{get:()=>t()}),e.magic("persist",t),e.persist=(n,{get:r,set:i},s=localStorage)=>{let o=Zr(n,s)?Yr(n,s):r();i(o),e.effect(()=>{let a=r();ei(n,a,s),i(a)})}}function Zr(e,t){return t.getItem(e)!==null}function Yr(e,t){let n=t.getItem(e,t);if(n!==void 0)return JSON.parse(n)}function ei(e,t,n){n.setItem(e,JSON.stringify(t))}var ti=Go;var ni=e=>({currentView:e.$persist("").using(sessionStorage),tutorialSwitch:e.$persist("on").using(sessionStorage),autoPilotSwitch:e.$persist("on").using(sessionStorage),burgerIsOpen:e.$persist(!1).using(sessionStorage),wipeOut(){this.currentView="",this.tutorialSwitch="on",this.autoPilotSwitch="on",this.burgerIsOpen=!1}});var ri=e=>({bio:e.$persist({surname:"Doe",name:"Joe",placeOfBirth:"New York",yearOfBirth:1971,gender:"m"}).using(sessionStorage),get testeeDataIsSet(){return Object.values({...this.bio}).every(Boolean)},get dataToExport(){return{testee:this.bio}},importData(t){this.wipeOut();let{testee:n}=t;this.bio=n},wipeOut(t=[]){this.bio={gender:t.includes("gender")?"m":"",name:t.includes("name")?"John":"",surname:t.includes("surname")?"Doe":"",yearOfBirth:t.includes("yearOfBirth")?1971:"",placeOfBirth:t.includes("placeOfBirth")?"New York":""}}});var ii=e=>{let t=e.slice().sort((r,i)=>r-i),n=Math.floor(t.length/2);return t.length%2!==0?t[n]:(t[n-1]+t[n])/2};var si=e=>({languageId:e.$persist("it").using(sessionStorage),settingId:e.$persist("normal").using(sessionStorage),batteryId:e.$persist("").using(sessionStorage),questionnaireId:e.$persist("").using(sessionStorage),itemId:e.$persist("").using(sessionStorage),battery:e.$persist({}).using(sessionStorage),questionnaires:e.$persist({}).using(sessionStorage),completedBatteries:e.$persist([]).using(sessionStorage),completedQuestionnaires:e.$persist([]).using(sessionStorage),data:e.$persist({batteries:{},questionnaires:{},scores:{}}).using(sessionStorage),reports:e.$persist({}).using(sessionStorage),get currentBattery(){return this.battery},get currentBatteryIsComplete(){return Object.keys(this.questionnaires).every(t=>this.completedQuestionnaires.includes(t))},get currentQuestionnaire(){return this.questionnaires[this.questionnaireId]},get currentQuestionnaireIsComplete(){let{questionnaireLength:t}=this.currentQuestionnaire;return(Object.keys(this.data.questionnaires[this.questionnaireId])||[]).length==t},get currentAnswer(){return this.data.questionnaires?.[this.questionnaireId]?.[this.itemId]},get currentAnswerValue(){return this.currentAnswer?.answerValue},get answerId(){return this.currentAnswerValue=="?"?"no-response":this.currentAnswerValue},get dataToExport(){return["languageId","settingId","batteryId","questionnaireId","itemId","battery","questionnaires","completedBatteries","completedQuestionnaires","data","reports"].reduce((t,n)=>({...t,[n]:this[n]}),{})},getBatteryIsComplete(t){return this.completedBatteries.includes(t)},getBatteryIsRunning(t){if(!this.data.batteries[t])return!1;let n=Object.keys(this.data.batteries[t]?.questionnaires??{});return!this.getBatteryIsComplete(t)&&Object.keys(this.data.batteries).includes(t)&&Object.keys(this.data.questionnaires).some(r=>n.includes(r))},getQuestionnaireIsComplete(t){return this.completedQuestionnaires.includes(t)},getQuestionnaireIsRunning(t){return!this.getQuestionnaireIsComplete(t)&&Object.keys(this.data.questionnaires).includes(t)},addCurrentBatteryToCompletedList(){this.completedBatteries=[...new Set([...this.completedBatteries,this.batteryId])]},addCurrentQuestionnaireToCompletedList(){let t=this.data.questionnaires[this.questionnaireId],n=Object.keys(t),r=n.map(s=>t[s].answerLatency),i=ii(r);n.forEach(s=>{t[s].deltaAnswerLatency=t[s].answerLatency-i}),this.completedQuestionnaires=[...new Set([...this.completedQuestionnaires,this.questionnaireId])]},setAnswerData(t){this.data.questionnaires[this.questionnaireId]??={},this.data.questionnaires[this.questionnaireId][this.itemId]=t},getAnswer(t){return this.data.questionnaires?.[this.questionnaireId]?.[t]?.answerValue},deleteAnswer(t){delete this.data.questionnaires?.[this.questionnaireId]?.[t]},importData(t){this.wipeOut();for(let[n,r]of Object.entries(t))n in this&&(this[n]=r)},wipeOut(t=[]){this.languageId=t.includes("languageId")?this.languageId:"it",this.settingId=t.includes("settingId")?this.settingId:"normal",this.batteryId=t.includes("batteryId")?this.batteryId:"",this.questionnaireId=t.includes("questionnaireId")?this.questionnaireId:"",this.itemId=t.includes("itemId")?this.itemId:"",this.battery=t.includes("battery")?this.battery:{},this.questionnaires=t.includes("questionnaires")?this.questionnaires:{},this.completedBatteries=t.includes("completedBatteries")?this.completedBatteries:[],this.completedQuestionnaires=t.includes("completedQuestionnaires")?this.completedQuestionnaires:[],this.data=t.includes("data")?this.data:{batteries:{},questionnaires:{},scores:{}},this.reports=t.includes("reports")?this.reports:{}}});var oi=e=>({urlBase:e.$persist("").using(sessionStorage),urlSession:e.$persist("").using(sessionStorage),urlBatteries:e.$persist("").using(sessionStorage),urlQuestionnaires:e.$persist("").using(sessionStorage),urlItem:e.$persist("").using(sessionStorage),urlReports:e.$persist("").using(sessionStorage),urlNotifications:e.$persist("").using(sessionStorage),urlTutorial:e.$persist("").using(sessionStorage),get urlCurrentBattery(){let t=e.store("session").batteryId;return this.getUrl(["batteries",t.charAt(0),t])},get urlCurrentQuestionnaire(){let t=e.store("session").questionnaireId;return this.getUrl(["questionnaires",t])},get dataToExport(){return["urlBase","urlSession","urlBatteries","urlQuestionnaires","urlItem","urlReports","urlNotifications","urlTutorial"].reduce((t,n)=>({...t,[n]:this[n]}),{})},importData(t){this.wipeOut();for(let[n,r]of Object.entries(t))n in this&&(this[n]=r)},getUrl(t){let n=t[0].charAt(0).toUpperCase()+t[0].slice(1).toLowerCase();return t.slice(1).reduce((r,i,s)=>`${r}${s==0?"":"/"}${i}`,this[`url${n}`])},wipeOut(t=[]){this.urlBase=t.includes("urlBase")?this.urlBase:"",this.urlSession=t.includes("urlSession")?this.urlSession:"",this.urlBatteries=t.includes("urlBatteries")?this.urlBatteries:"",this.urlQuestionnaires=t.includes("urlQuestionnaires")?this.urlQuestionnaires:"",this.urlItem=t.includes("urlItem")?this.urlItem:"",this.urlNotifications=t.includes("urlNotifications")?this.urlNotifications:"",this.urlTutorial=t.includes("urlTutorial")?this.urlTutorial:""}});var M=()=>({setUrl(e){for(let[t,n]of Object.entries(e))t in this.$store.urls&&(this.$store.urls[t]=n)},goToCurrentBattery(){window.htmx.ajax("GET",this.$store.urls.urlCurrentBattery,"body")},goToCurrentQuestionnaire(){window.htmx.ajax("GET",this.$store.urls.urlCurrentQuestionnaire,"body")},goToQuestionnaire(e){let t=this.$store.urls.getUrl(["questionnaires",e]);window.htmx.ajax("GET",t,"body")},goToUrl(e=[]){let t=this.$store.urls.getUrl(e);window.htmx.ajax("GET",t,"body")},goToUrlRaw(e){window.htmx.ajax("GET",e,"body")}});var{goToUrl:ai,goToUrlRaw:Jo}=M(),li=()=>({tabElements:null,burgerElements:null,tabIndex:-1,burgerIndex:-1,alphabetLowerCase:"abcdefghijklmnopqrstuvwxyz",initKeyboardActions(e=null){this.burgerElements=[...document.getElementsByClassName("burger-element")],this.tabElements=[...document.getElementsByClassName("tab-element")],this.tabIndex=e?this.getElementIndex(this.$refs[`tab-${this.$store.session[e]}`]):-1},get hasTabElements(){return this.tabElements?.length>0},getElementIndex(e){return e?[...e.parentNode.children].indexOf(e):-1},getNextElementIndex(e,t,n){return n=="next"?(e+1)%t.length:e<=0?t.length-1:e-1},alphabetActions:{"@keyup.window"({key:e}){if(e==0&&ai.bind(this)(["session","set-session"]),e=="Escape"&&this.$store.app.currentView=="batteries"&&ai.bind(this)(["batteries"]),this.alphabetLowerCase.includes(e)&&this.$store.app.currentView=="batteries"){let t=`${this.$store.urls.urlBatteries}/${e.toLowerCase()}`;Jo.bind(this)(t)}}},xArrowsActions:{"@keyup.left.window"(){this.$refs["page-left"]?.click()},"@keyup.right.window"(){this.$refs["page-right"]&&this.$refs["page-right"].click(),!this.$refs["page-right"]&&this.$refs["main-button"].click()}},yArrowsActions:{"@keyup.down.window"({shiftKey:e}){if(e)return this.$store.app.burgerIsOpen=!this.$store.app.burgerIsOpen;this.$store.app.burgerIsOpen?this.burgerIndex=this.getNextElementIndex(this.burgerIndex,this.burgerElements,"next"):this.hasTabElements&&(this.tabIndex=this.getNextElementIndex(this.tabIndex,this.tabElements,"next"),this.tabElements[this.tabIndex]?.click())},"@keyup.up.window"(){this.$store.app.burgerIsOpen?this.burgerIndex=this.getNextElementIndex(this.burgerIndex,this.burgerElements,"prev"):this.hasTabElements&&(this.tabIndex=this.getNextElementIndex(this.tabIndex,this.tabElements,"prev"),this.tabElements[this.tabIndex]?.click())}},enterActions:{"@keyup.enter.window"(){this.$store.app.burgerIsOpen&&this.burgerElements[this.burgerIndex]?.click(),!this.$store.app.burgerIsOpen&&this.$refs["main-button"]?.click()}}});var ui=()=>({async initBase({urlWorkerScript:e,urlScoringScript:t,urlTemplatingScript:n}){this.$watch("$store.session.completedQuestionnaires",r=>{let i=r.at(-1);if(!i||!this.$store.session.questionnaires[i]?.questionnaireShouldBeScored)return;let s=this.$store.session.settingId,o=JSON.parse(JSON.stringify({...this.$store.testee.bio,settingId:s})),a=JSON.parse(JSON.stringify(this.$store.session.data.questionnaires[i])),u=`${this.$store.urls.getUrl(["questionnaires",i])}/index.json`,c=this.$store.urls.getUrl(["reports",i]),f=new Worker(e);f.postMessage({settingId:s,questionnaireId:i,questionnaireData:a,testeeData:o,urlQuestionnaireSpecs:u,urlReportTemplate:c,urlScoringScript:t,urlTemplatingScript:n}),f.onmessage=({data:h})=>{let{questionnaireId:p,questionnaireScores:b,questionnaireReport:S}=h;this.$store.session.data.scores[p]=b,this.$store.session.reports[p]=S}})},htmxEvents:{"@htmx:after-swap.camel"(){this.$store.app.burgerIsOpen=!1}}});var g={selected:{"bg-blue-50":!0,"hover:bg-blue-50":!0},nonSelected:{"hover:bg-gray-100":!0},disabledButton:{"bg-gray-200":!0,"cursor-not-allowed":!0,"outline-none":!0},enabledButton:{"bg-blue-500":!0,"hover:bg-blue-700":!0,"cursor-pointer":!0},grayDot:{"text-gray-200":!0},orangeDot:{"text-orange-300":!0},blueDot:{"text-blue-400":!0}};var{setUrl:Yo,goToUrl:ci,goToUrlRaw:ea}=M(),fi=()=>({async initHome(e,t){this.$store.app.currentView="home",this.$store.session.languageId=e;let n=await(await fetch(t)).json();Yo.bind(this)(n)},setLanguageIdButton:(e,t)=>({"@click.prevent"(){this.$store.session.languageId=e,ea.bind(this)(t)},":class"(){return e==this.$store.session.languageId?g.selected:g.nonSelected}}),goNextButton:{"@click.prevent"(){if(this.$store.session.batteryId&&!this.$store.session.completedBatteries.includes(this.$store.session.batteryId)){if(this.$store.app.tutorialSwitch=="off")return ci.bind(this)(["session","open-session"]);if(this.$store.app.tutorialSwitch=="on")return ci.bind(this)(["tutorial"])}},":class"(){return this.$store.session.settingId&&this.$store.session.batteryId&&!this.$store.session.completedBatteries.includes(this.$store.session.batteryId)?g.enabledButton:g.disabledButton}}});var{goToUrlRaw:ta}=M(),hi=()=>({fakeItemId:null,initTutorial(e="on"){this.$store.app.currentView="tutorial",this.$store.app.tutorialSwitch=e},get shouldGoNext(){return this.fakeItemId==4},fakeItem(e){return{"@click.prevent"(){this.fakeItemId=e},":class"(){return e==this.fakeItemId?g.selected:g.nonSelected}}},nextRight(){return{"@click.prevent"(){this.fakeItemId=Math.min(4,this.fakeItemId+1)}}},previousLeft(){return{"@click.prevent"(){this.fakeItemId=Math.max(0,this.fakeItemId-1)}}},goToNextTutorialButton(e){return{"@click.prevent"(){this.shouldGoNext&&ta.bind(this)(e)},":class"(){return this.shouldGoNext?g.enabledButton:g.disabledButton}}}});var{goToUrl:na}=M(),di=()=>({initBatteries(){this.$store.app.currentView="batteries"},selectBatteryButton(e,t,n){return{async"@click"(){let{questionnaires:r}=await fetch(n).then(i=>i.json());this.$store.session.batteryId=e,this.$store.session.battery={batteryId:e,batteryName:t,questionnaires:r,order:this.$store.session.completedBatteries.length},this.$store.session.questionnaires=r},":class"(){return e==this.$store.session.batteryId?g.selected:g.nonSelected}}},showDot(e){return{":class"(){let t=this.$store.session.getBatteryIsComplete(e),n=this.$store.session.getBatteryIsRunning(e);return t?g.blueDot:n?g.orangeDot:g.grayDot}}},goHomeButton:{"@click"(){this.$store.session.batteryId&&na.bind(this)(["base"])},":class"(){return this.$store.session.batteryId?g.enabledButton:g.disabledButton}}});var{goToCurrentQuestionnaire:ra}=M(),pi=()=>({initBattery(){this.$store.app.currentView="battery",this.$store.session.data.batteries[this.$store.session.batteryId]=this.$store.session.battery,this.$store.session.questionnaireId=Object.values(this.$store.session.questionnaires).map((e,t)=>({order:t,...e})).sort((e,t)=>Number(e.order)-Number(t.order)).filter(({questionnaireId:e})=>!this.$store.session.completedQuestionnaires.includes(e))[0]?.questionnaireId},showDot(e){return{":class"(){let t=this.$store.session.getQuestionnaireIsComplete(e),n=this.$store.session.getQuestionnaireIsRunning(e);return t?g.blueDot:n?g.orangeDot:g.grayDot}}},selectQuestionnaireButton(e){return{"@click"(){this.$store.session.questionnaireId=e},":class"(){return e==this.$store.session.questionnaireId?g.selected:g.nonSelected}}},goToQuestionnaireButton:{"@click.prevent"(){this.$store.session.questionnaireId&&ra.bind(this)()},":class"(){return this.$store.session.questionnaireId?g.enabledButton:g.disabledButton}}});var gi=()=>({initIntro(){this.$store.app.currentView="intro"}});var{goToUrl:un,goToUrlRaw:ia}=M(),mi=()=>({epochIn:0,noResponse:!1,initItem(e,t){this.epochIn=Date.now(),this.$store.app.currentView="item",this.$store.session.itemId=e,this.$store.urls.urlItem=t,this.noResponse=this.$store.session.currentAnswerValue=="?"},itemTitle:{":x-text"(){let e=this.$refs.title,{title:t,itemNo:n,itemsNo:r}=e.dataset,i=`(${n}/${r})`;e.innerText=`${t} ${i}`}},itemOption:e=>({"@click"(){let t=Date.now()-this.epochIn,n=this.$store.session.currentAnswer?.answerLatency,r=this.$store.session.currentAnswerValue==e.answerValue?n:(n||0)+t;this.setAnswerData({...e,answerLatency:r}),this.$nextTick(()=>{!this.noResponse&&this.$store.session.currentAnswerValue=="?"&&this.deleteAnswer(),this.noResponse=this.$store.session.currentAnswerValue=="?"})},":class"(){return this.$store.session.currentAnswerValue==e.answerValue?g.selected:g.nonSelected}}),itemNextButton:e=>({"@click"(){this.shouldGoNext&&ia.bind(this)(e)},":class"(){return this.shouldGoNext?g.enabledButton:g.disabledButton}}),itemEndButton:{"@click"(){if(this.shouldGoNext){if(!this.$store.session.currentQuestionnaireIsComplete)return un.bind(this)(["notifications","questionnaire-incomplete"]);if(this.$store.session.addCurrentQuestionnaireToCompletedList(),this.$store.session.currentBatteryIsComplete)return this.$store.session.addCurrentBatteryToCompletedList(),un.bind(this)(["notifications","battery-complete"]);un.bind(this)(["notifications","questionnaire-complete"])}},":class"(){return this.shouldGoNext?g.enabledButton:g.disabledButton}},setAnswerData(e){this.$store.session.setAnswerData(e)},deleteAnswer(){this.$store.session.deleteAnswer(this.$store.session.itemId)},get shouldGoNext(){return this.$store.session.currentAnswerValue||this.noResponse}});var{goToUrlRaw:sa}=M(),vi=()=>({initMap(){this.$store.app.currentView="map";let e=this.$refs.titleWithPagination;e.innerText=e.dataset.title},showDot(e){return{":class"(){return this.$store.session.getAnswer(e)?g.blueDot:g.grayDot}}},itemMapButton(e,t){return{"@click"(){this.$store.session.itemId=e,this.$store.urls.urlItem=t},":class"(){return this.$store.session.itemId==e?g.selected:g.nonSelected}}},goToItemButton:{"@click"(){sa(this.$store.urls.urlItem)},":class"(){return g.enabledButton}}});var ht=e=>(e.map=t=>ht(n=>t(e(n))),e.or=t=>ht(n=>{try{return e(n)}catch{return t(n)}}),e),je=()=>"bad banditype"();var cn=e=>ht(t=>typeof t==typeof e?t:je()),R=()=>cn(""),Re=()=>cn(0),yi=()=>cn(!0);var fn=e=>ht(t=>t instanceof e?t:je());var we=e=>fn(Object).map(t=>{let n={};for(let r in e){let i=e[r](t[r]);i!==void 0&&(n[r]=i)}return n}),Se=e=>fn(Object).map(t=>{let n={...t};for(let r in e){let i=e[r](t[r]);i!==void 0&&(n[r]=i)}return n}),dt=e=>fn(Array).map(t=>t.map(e));var oa=we({gender:R().map(e=>/[mf]{1,1}$/.test(e)?e:je()),surname:R(),name:R(),placeOfBirth:R(),yearOfBirth:R().or(Re()).map(e=>/^\d{4,4}$/.test(e)?e:je())}),xi=we({batteryId:R(),questionnaires:dt(R()),questionnaires:Se()}),aa=we({questionnaireId:R(),questionnaireName:R(),questionnaireLength:Re(),questionnaireShouldBeScored:yi()}),la=we({order:Re(),itemId:R(),answerLatency:Re(),deltaAnswerLatency:Re()}),ua=we({testee:oa,languageId:R(),settingId:R(),batteryId:R(),questionnaireId:R(),itemId:R(),battery:xi,questionnaires:Se(),completedBatteries:dt(R()),completedQuestionnaires:dt(R()),data:we({batteries:Se(),questionnaires:Se(),scores:Se()}),reports:Se(),urlBase:R(),urlSession:R(),urlBatteries:R(),urlQuestionnaires:R(),urlItem:R(),urlReports:R(),urlNotifications:R(),urlTutorial:R()}),ca=e=>{try{try{ua(e)}catch{throw new Error("JSON has missing or improper elements")}for(let[t,n]of Object.entries(e.data.batteries))try{xi(n)}catch{throw new Error(`Validation error for battery: ${t}`)}for(let[t,n]of Object.entries(e.questionnaires))try{aa(n)}catch{throw new Error(`Validation error for questionnaire: ${t}`)}for(let[t,n]of Object.entries(e.data.questionnaires))Object.values(n).forEach(r=>{try{la(r)}catch{throw new Error(`Validation error for item: ${t}, ${r?.itemId}`)}});return e}catch(t){throw new Error(t||"Oops! An unspecified error occurred")}},bi=()=>({validateData(e){try{let t=JSON.parse(e);return ca(t)}catch(t){console.log(t);return}}});var U=Uint8Array,Z=Uint16Array,vn=Int32Array,yn=new U([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),xn=new U([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Ei=new U([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Ii=function(e,t){for(var n=new Z(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];for(var i=new vn(n[30]),r=1;r<30;++r)for(var s=n[r];s<n[r+1];++s)i[s]=s-n[r]<<5|r;return{b:n,r:i}},Ti=Ii(yn,2),fa=Ti.b,dn=Ti.r;fa[28]=258,dn[258]=28;var Oi=Ii(xn,0),_l=Oi.b,wi=Oi.r,pn=new Z(32768);for(I=0;I<32768;++I)ae=(I&43690)>>1|(I&21845)<<1,ae=(ae&52428)>>2|(ae&13107)<<2,ae=(ae&61680)>>4|(ae&3855)<<4,pn[I]=((ae&65280)>>8|(ae&255)<<8)>>1;var ae,I,ze=function(e,t,n){for(var r=e.length,i=0,s=new Z(t);i<r;++i)e[i]&&++s[e[i]-1];var o=new Z(t);for(i=1;i<t;++i)o[i]=o[i-1]+s[i-1]<<1;var a;if(n){a=new Z(1<<t);var l=15-t;for(i=0;i<r;++i)if(e[i])for(var u=i<<4|e[i],c=t-e[i],f=o[e[i]-1]++<<c,h=f|(1<<c)-1;f<=h;++f)a[pn[f]>>l]=u}else for(a=new Z(r),i=0;i<r;++i)e[i]&&(a[i]=pn[o[e[i]-1]++]>>15-e[i]);return a},_e=new U(288);for(I=0;I<144;++I)_e[I]=8;var I;for(I=144;I<256;++I)_e[I]=9;var I;for(I=256;I<280;++I)_e[I]=7;var I;for(I=280;I<288;++I)_e[I]=8;var I,pt=new U(32);for(I=0;I<32;++I)pt[I]=5;var I,ha=ze(_e,9,0);var da=ze(pt,5,0);var Ri=function(e){return(e+7)/8|0},Di=function(e,t,n){return(t==null||t<0)&&(t=0),(n==null||n>e.length)&&(n=e.length),new U(e.subarray(t,n))};var pa=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],gt=function(e,t,n){var r=new Error(t||pa[e]);if(r.code=e,Error.captureStackTrace&&Error.captureStackTrace(r,gt),!n)throw r;return r};var le=function(e,t,n){n<<=t&7;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8},Ue=function(e,t,n){n<<=t&7;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8,e[r+2]|=n>>16},hn=function(e,t){for(var n=[],r=0;r<e.length;++r)e[r]&&n.push({s:r,f:e[r]});var i=n.length,s=n.slice();if(!i)return{t:$i,l:0};if(i==1){var o=new U(n[0].s+1);return o[n[0].s]=1,{t:o,l:1}}n.sort(function(O,T){return O.f-T.f}),n.push({s:-1,f:25001});var a=n[0],l=n[1],u=0,c=1,f=2;for(n[0]={s:-1,f:a.f+l.f,l:a,r:l};c!=i-1;)a=n[n[u].f<n[f].f?u++:f++],l=n[u!=c&&n[u].f<n[f].f?u++:f++],n[c++]={s:-1,f:a.f+l.f,l:a,r:l};for(var h=s[0].s,r=1;r<i;++r)s[r].s>h&&(h=s[r].s);var p=new Z(h+1),b=gn(n[c-1],p,0);if(b>t){var r=0,S=0,d=b-t,m=1<<d;for(s.sort(function(T,A){return p[A.s]-p[T.s]||T.f-A.f});r<i;++r){var x=s[r].s;if(p[x]>t)S+=m-(1<<b-p[x]),p[x]=t;else break}for(S>>=d;S>0;){var v=s[r].s;p[v]<t?S-=1<<t-p[v]++-1:++r}for(;r>=0&&S;--r){var w=s[r].s;p[w]==t&&(--p[w],++S)}b=t}return{t:new U(p),l:b}},gn=function(e,t,n){return e.s==-1?Math.max(gn(e.l,t,n+1),gn(e.r,t,n+1)):t[e.s]=n},Si=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new Z(++t),r=0,i=e[0],s=1,o=function(l){n[r++]=l},a=1;a<=t;++a)if(e[a]==i&&a!=t)++s;else{if(!i&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(i),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(i);s=1,i=e[a]}return{c:n.subarray(0,r),n:t}},Ve=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},Hi=function(e,t,n){var r=n.length,i=Ri(t+2);e[i]=r&255,e[i+1]=r>>8,e[i+2]=e[i]^255,e[i+3]=e[i+1]^255;for(var s=0;s<r;++s)e[i+s+4]=n[s];return(i+4+r)*8},_i=function(e,t,n,r,i,s,o,a,l,u,c){le(t,c++,n),++i[256];for(var f=hn(i,15),h=f.t,p=f.l,b=hn(s,15),S=b.t,d=b.l,m=Si(h),x=m.c,v=m.n,w=Si(S),O=w.c,T=w.n,A=new Z(19),y=0;y<x.length;++y)++A[x[y]&31];for(var y=0;y<O.length;++y)++A[O[y]&31];for(var E=hn(A,7),B=E.t,re=E.l,k=19;k>4&&!B[Ei[k-1]];--k);var Q=u+5<<3,V=Ve(i,_e)+Ve(s,pt)+o,K=Ve(i,h)+Ve(s,S)+o+14+3*k+Ve(A,B)+2*A[16]+3*A[17]+7*A[18];if(l>=0&&Q<=V&&Q<=K)return Hi(t,c,e.subarray(l,l+u));var z,C,G,ie;if(le(t,c,1+(K<V)),c+=2,K<V){z=ze(h,p,0),C=h,G=ze(S,d,0),ie=S;var pe=ze(B,re,0);le(t,c,v-257),le(t,c+5,T-1),le(t,c+10,k-4),c+=14;for(var y=0;y<k;++y)le(t,c+3*y,B[Ei[y]]);c+=3*k;for(var q=[x,O],N=0;N<2;++N)for(var ee=q[N],y=0;y<ee.length;++y){var W=ee[y]&31;le(t,c,pe[W]),c+=B[W],W>15&&(le(t,c,ee[y]>>5&127),c+=ee[y]>>12)}}else z=ha,C=_e,G=da,ie=pt;for(var y=0;y<a;++y){var P=r[y];if(P>255){var W=P>>18&31;Ue(t,c,z[W+257]),c+=C[W+257],W>7&&(le(t,c,P>>23&31),c+=yn[W]);var _=P&31;Ue(t,c,G[_]),c+=ie[_],_>3&&(Ue(t,c,P>>5&8191),c+=xn[_])}else Ue(t,c,z[P]),c+=C[P]}return Ue(t,c,z[256]),c+C[256]},ga=new vn([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),$i=new U(0),ma=function(e,t,n,r,i,s){var o=s.z||e.length,a=new U(r+o+5*(1+Math.ceil(o/7e3))+i),l=a.subarray(r,a.length-i),u=s.l,c=(s.r||0)&7;if(t){c&&(l[0]=s.r>>3);for(var f=ga[t-1],h=f>>13,p=f&8191,b=(1<<n)-1,S=s.p||new Z(32768),d=s.h||new Z(b+1),m=Math.ceil(n/3),x=2*m,v=function(xt){return(e[xt]^e[xt+1]<<m^e[xt+2]<<x)&b},w=new vn(25e3),O=new Z(288),T=new Z(32),A=0,y=0,E=s.i||0,B=0,re=s.w||0,k=0;E+2<o;++E){var Q=v(E),V=E&32767,K=d[Q];if(S[V]=K,d[Q]=V,re<=E){var z=o-E;if((A>7e3||B>24576)&&(z>423||!u)){c=_i(e,l,0,w,O,T,y,B,k,E-k,c),B=A=y=0,k=E;for(var C=0;C<286;++C)O[C]=0;for(var C=0;C<30;++C)T[C]=0}var G=2,ie=0,pe=p,q=V-K&32767;if(z>2&&Q==v(E-q))for(var N=Math.min(h,z)-1,ee=Math.min(32767,E),W=Math.min(258,z);q<=ee&&--pe&&V!=K;){if(e[E+G]==e[E+G-q]){for(var P=0;P<W&&e[E+P]==e[E+P-q];++P);if(P>G){if(G=P,ie=q,P>N)break;for(var _=Math.min(q,P-2),$=0,C=0;C<_;++C){var J=E-q+C&32767,ki=S[J],En=J-ki&32767;En>$&&($=En,K=J)}}}V=K,K=S[V],q+=V-K&32767}if(ie){w[B++]=268435456|dn[G]<<18|wi[ie];var wn=dn[G]&31,Sn=wi[ie]&31;y+=yn[wn]+xn[Sn],++O[257+wn],++T[Sn],re=E+G,++A}else w[B++]=e[E],++O[e[E]]}}for(E=Math.max(E,re);E<o;++E)w[B++]=e[E],++O[e[E]];c=_i(e,l,u,w,O,T,y,B,k,E-k,c),u||(s.r=c&7|l[c/8|0]<<3,c-=7,s.h=d,s.p=S,s.i=E,s.w=re)}else{for(var E=s.w||0;E<o+u;E+=65535){var yt=E+65535;yt>=o&&(l[c/8|0]=u,yt=o),c=Hi(l,c+1,e.subarray(E,yt))}s.i=o}return Di(a,0,r+Ri(c)+i)},va=function(){for(var e=new Int32Array(256),t=0;t<256;++t){for(var n=t,r=9;--r;)n=(n&1&&-306674912)^n>>>1;e[t]=n}return e}(),ya=function(){var e=-1;return{p:function(t){for(var n=e,r=0;r<t.length;++r)n=va[n&255^t[r]]^n>>>8;e=n},d:function(){return~e}}};var xa=function(e,t,n,r,i){if(!i&&(i={l:1},t.dictionary)){var s=t.dictionary.subarray(-32768),o=new U(s.length+e.length);o.set(s),o.set(e,s.length),e=o,i.w=s.length}return ma(e,t.level==null?6:t.level,t.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,n,r,i)},Ni=function(e,t){var n={};for(var r in e)n[r]=e[r];for(var r in t)n[r]=t[r];return n};var j=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8};function ba(e,t){return xa(e,t||{},0,0)}var Bi=function(e,t,n,r){for(var i in e){var s=e[i],o=t+i,a=r;Array.isArray(s)&&(a=Ni(r,s[1]),s=s[0]),s instanceof U?n[o]=[s,a]:(n[o+="/"]=[new U(0),a],Bi(s,o,n,r))}},Ai=typeof TextEncoder<"u"&&new TextEncoder,Ea=typeof TextDecoder<"u"&&new TextDecoder,wa=0;try{Ea.decode($i,{stream:!0}),wa=1}catch{}function We(e,t){if(t){for(var n=new U(e.length),r=0;r<e.length;++r)n[r]=e.charCodeAt(r);return n}if(Ai)return Ai.encode(e);for(var i=e.length,s=new U(e.length+(e.length>>1)),o=0,a=function(c){s[o++]=c},r=0;r<i;++r){if(o+5>s.length){var l=new U(o+8+(i-r<<1));l.set(s),s=l}var u=e.charCodeAt(r);u<128||t?a(u):u<2048?(a(192|u>>6),a(128|u&63)):u>55295&&u<57344?(u=65536+(u&1047552)|e.charCodeAt(++r)&1023,a(240|u>>18),a(128|u>>12&63),a(128|u>>6&63),a(128|u&63)):(a(224|u>>12),a(128|u>>6&63),a(128|u&63))}return Di(s,0,o)}var mn=function(e){var t=0;if(e)for(var n in e){var r=e[n].length;r>65535&&gt(9),t+=r+4}return t},Ci=function(e,t,n,r,i,s,o,a){var l=r.length,u=n.extra,c=a&&a.length,f=mn(u);j(e,t,o!=null?33639248:67324752),t+=4,o!=null&&(e[t++]=20,e[t++]=n.os),e[t]=20,t+=2,e[t++]=n.flag<<1|(s<0&&8),e[t++]=i&&8,e[t++]=n.compression&255,e[t++]=n.compression>>8;var h=new Date(n.mtime==null?Date.now():n.mtime),p=h.getFullYear()-1980;if((p<0||p>119)&&gt(10),j(e,t,p<<25|h.getMonth()+1<<21|h.getDate()<<16|h.getHours()<<11|h.getMinutes()<<5|h.getSeconds()>>1),t+=4,s!=-1&&(j(e,t,n.crc),j(e,t+4,s<0?-s-2:s),j(e,t+8,n.size)),j(e,t+12,l),j(e,t+14,f),t+=16,o!=null&&(j(e,t,c),j(e,t+6,n.attrs),j(e,t+10,o),t+=14),e.set(r,t),t+=l,f)for(var b in u){var S=u[b],d=S.length;j(e,t,+b),j(e,t+2,d),e.set(S,t+4),t+=4+d}return c&&(e.set(a,t),t+=c),t},Sa=function(e,t,n,r,i){j(e,t,101010256),j(e,t+8,n),j(e,t+10,n),j(e,t+12,r),j(e,t+16,i)};function qi(e,t){t||(t={});var n={},r=[];Bi(e,"",n,t);var i=0,s=0;for(var o in n){var a=n[o],l=a[0],u=a[1],c=u.level==0?0:8,f=We(o),h=f.length,p=u.comment,b=p&&We(p),S=b&&b.length,d=mn(u.extra);h>65535&&gt(11);var m=c?ba(l,u):l,x=m.length,v=ya();v.p(l),r.push(Ni(u,{size:l.length,crc:v.d(),c:m,f,m:b,u:h!=o.length||b&&p.length!=S,o:i,compression:c})),i+=30+h+d+x,s+=76+2*(h+d)+(S||0)+x}for(var w=new U(s+22),O=i,T=s-i,A=0;A<r.length;++A){var f=r[A];Ci(w,f.o,f,f.f,f.u,f.c.length);var y=30+f.f.length+mn(f.extra);w.set(f.c,f.o+y),Ci(w,i,f,f.f,f.u,f.c.length,f.o,f.m),i+=16+y+(f.m?f.m.length:0)}return Sa(w,i,r.length,T,O),w}var mt=()=>({getDataToExport(){let e=this.$store.testee.dataToExport,t=this.$store.session.dataToExport,n=this.$store.urls.dataToExport,r={...e,...t,...n},i=!this.$store.testee.testeeDataIsSet,s=Object.values(t.data.batteries).map(o=>Object.keys(o.questionnaires).some(a=>!Object.keys(t.reports).includes(a))).some(Boolean);return[i,s].some(Boolean)?null:r},getExportFileName(){if(this.$store.testee.testeeDataIsSet){let{surname:e,name:t,yearOfBirth:n}=this.$store.testee.bio;return`${e} ${t} ${n}`.toLowerCase().match(/\b\w+\b/g).join("-")}return"anonymous"},downloadJSON(e,t){let n=new Blob([JSON.stringify(e)],{type:"application/json"}),r=document.createElement("a"),i=window.URL.createObjectURL(n),s=`${t}-${Date.now()}`;r.href=i,r.download=`${s}.json`,r.dataset.downloadurl=["text/json",r.download,r.href].join(":"),r.click(),window.URL.revokeObjectURL(i)},downloadZip(e,t){let n=`${t}-${Date.now()}`,{reports:r}=e,i={};for(let[c,f]of Object.entries(r))i[`${n}-report-${c}.html`]=We(f);let s=We(JSON.stringify(e)),o=qi({data:{[`${n}-session-data.json`]:s},reports:i},{level:9}),a=new Blob([o],{type:"application/octet-stream"}),l=window.URL.createObjectURL(a),u=document.createElement("a");u.href=l,u.download=`${t}-${Date.now()}.zip`,u.click(),window.URL.revokeObjectURL(l)}});var{goToUrl:vt,goToCurrentBattery:_a}=M(),{validateData:Aa}=bi(),{getDataToExport:Ca,getExportFileName:Ia,downloadJSON:Ta,downloadZip:Oa}=mt(),Li=()=>({file:null,fileAsText:null,dataToExport:null,exportFileName:null,initSession(){this.$store.app.currentView="session",Alpine.effect(()=>{this.dataToExport=Ca.bind(this)(),this.exportFileName=Ia.bind(this)()})},get uploadedFilename(){return this.file?.name},uploadFile:{"@change.prevent"({target:{files:e}}){let t=new FileReader,r=Array.from(e||[]).find(i=>i.type=="application/json");r&&(this.file=r,t.readAsText(r),t.onload=()=>{this.fileAsText=t.result},t.onerror=()=>{vt.bind(this)(["notifications","io-error"])})}},resetSession(){this.$store.app.wipeOut(),this.$store.testee.wipeOut(),this.$store.session.wipeOut(["settingId"]),this.$store.urls.wipeOut(["urlReports"]),vt.bind(this)(["base"])},openSessionButton:{"@click.prevent"(){this.$store.testee.testeeDataIsSet&&_a.bind(this)()},":class"(){return this.$store.testee.testeeDataIsSet?g.enabledButton:g.disabledButton}},closeSessionButton:{"@click.prevent"(){this.dataToExport&&(Oa(this.dataToExport,this.exportFileName),this.resetSession())},":class"(){return this.dataToExport?g.enabledButton:g.disabledButton}},pauseSessionButton:{"@click.prevent"(){Ta(this.dataToExport,this.exportFileName),this.resetSession()},":class"(){return this.$store.testee.testeeDataIsSet?g.enabledButton:g.disabledButton}},resumeSessionButton:{"@click.prevent"(){let e=Aa(this.fileAsText);if(!e)return vt.bind(this)(["notifications","errors","error-resuming-session"]);this.$store.session.importData(e),this.$store.testee.importData(e),this.$store.urls.importData(e),vt.bind(this)(["session","open-session"])},":class"(){return this.file?g.enabledButton:g.disabledButton}}});var{goToUrl:Ra}=M(),Mi=()=>({initSessionSet(e){this.$store.app.currentView="session",this.$store.urls.urlReports=e,this.$watch("$store.session.settingId",()=>{this.$store.session.completedQuestionnaires=[...this.$store.session.completedQuestionnaires]})},setSessionButton:{"@click.prevent"(){this.$store.urls.urlReports&&this.$store.session.settingId&&Ra.bind(this)(["batteries"])},":class"(){return this.$store.urls.urlReports&&this.$store.session.settingId?g.enabledButton:g.disabledButton}}});var{goToCurrentBattery:Da,goToCurrentQuestionnaire:Ha,goToUrl:$a}=M(),{getDataToExport:Na,getExportFileName:Ba,downloadZip:qa}=mt(),Fi=()=>({dataToExport:null,exportFileName:null,initNotifications(){this.$store.app.currentView="notifications",Alpine.effect(()=>{this.dataToExport=Na.bind(this)(),this.exportFileName=Ba.bind(this)()})},questionnaireIsCompleteButton(){return{"@click.prevent"(){this.$store.session.completedQuestionnaires.includes(this.$store.session.questionnaireId)&&Da.bind(this)()},":class"(){return this.$store.session.completedQuestionnaires.includes(this.$store.session.questionnaireId)?g.selected:g.nonSelected}}},questionnaireIsIncompleteButton:{"@click.prevent"(){Ha.bind(this)()}},batteryIsCompleteButton:{"@click.prevent"(){this.$store.app.autoPilotSwitch=="on"&&this.dataToExport&&(qa(this.dataToExport,this.exportFileName),this.$store.testee.wipeOut(),this.$store.session.wipeOut(["settingId","batteryId","battery","questionnaires","languageId"]),this.$store.app.wipeOut()),$a.bind(this)(["base"])}}});var La=function(){"use strict";let htmx={onLoad:null,process:null,on:null,off:null,trigger:null,ajax:null,find:null,findAll:null,closest:null,values:function(e,t){return getInputValues(e,t||"post").values},remove:null,addClass:null,removeClass:null,toggleClass:null,takeClass:null,swap:null,defineExtension:null,removeExtension:null,logAll:null,logNone:null,logger:null,config:{historyEnabled:!0,historyCacheSize:10,refreshOnHistoryMiss:!1,defaultSwapStyle:"innerHTML",defaultSwapDelay:0,defaultSettleDelay:20,includeIndicatorStyles:!0,indicatorClass:"htmx-indicator",requestClass:"htmx-request",addedClass:"htmx-added",settlingClass:"htmx-settling",swappingClass:"htmx-swapping",allowEval:!0,allowScriptTags:!0,inlineScriptNonce:"",inlineStyleNonce:"",attributesToSettle:["class","style","width","height"],withCredentials:!1,timeout:0,wsReconnectDelay:"full-jitter",wsBinaryType:"blob",disableSelector:"[hx-disable], [data-hx-disable]",scrollBehavior:"instant",defaultFocusScroll:!1,getCacheBusterParam:!1,globalViewTransitions:!1,methodsThatUseUrlParams:["get","delete"],selfRequestsOnly:!0,ignoreTitle:!1,scrollIntoViewOnBoost:!0,triggerSpecsCache:null,disableInheritance:!1,responseHandling:[{code:"204",swap:!1},{code:"[23]..",swap:!0},{code:"[45]..",swap:!1,error:!0}],allowNestedOobSwaps:!0},parseInterval:null,_:null,version:"2.0.1"};htmx.onLoad=onLoadHelper,htmx.process=processNode,htmx.on=addEventListenerImpl,htmx.off=removeEventListenerImpl,htmx.trigger=triggerEvent,htmx.ajax=ajaxHelper,htmx.find=find,htmx.findAll=findAll,htmx.closest=closest,htmx.remove=removeElement,htmx.addClass=addClassToElement,htmx.removeClass=removeClassFromElement,htmx.toggleClass=toggleClassOnElement,htmx.takeClass=takeClassForElement,htmx.swap=swap,htmx.defineExtension=defineExtension,htmx.removeExtension=removeExtension,htmx.logAll=logAll,htmx.logNone=logNone,htmx.parseInterval=parseInterval,htmx._=internalEval;let internalAPI={addTriggerHandler,bodyContains,canAccessLocalStorage,findThisElement,filterValues,swap,hasAttribute,getAttributeValue,getClosestAttributeValue,getClosestMatch,getExpressionVars,getHeaders,getInputValues,getInternalData,getSwapSpecification,getTriggerSpecs,getTarget,makeFragment,mergeObjects,makeSettleInfo,oobSwap,querySelectorExt,settleImmediately,shouldCancel,triggerEvent,triggerErrorEvent,withExtensions},VERBS=["get","post","put","delete","patch"],VERB_SELECTOR=VERBS.map(function(e){return"[hx-"+e+"], [data-hx-"+e+"]"}).join(", "),HEAD_TAG_REGEX=makeTagRegEx("head");function makeTagRegEx(e,t=!1){return new RegExp(`<${e}(\\s[^>]*>|>)([\\s\\S]*?)<\\/${e}>`,t?"gim":"im")}function parseInterval(e){if(e==null)return;let t=NaN;return e.slice(-2)=="ms"?t=parseFloat(e.slice(0,-2)):e.slice(-1)=="s"?t=parseFloat(e.slice(0,-1))*1e3:e.slice(-1)=="m"?t=parseFloat(e.slice(0,-1))*1e3*60:t=parseFloat(e),isNaN(t)?void 0:t}function getRawAttribute(e,t){return e instanceof Element&&e.getAttribute(t)}function hasAttribute(e,t){return!!e.hasAttribute&&(e.hasAttribute(t)||e.hasAttribute("data-"+t))}function getAttributeValue(e,t){return getRawAttribute(e,t)||getRawAttribute(e,"data-"+t)}function parentElt(e){let t=e.parentElement;return!t&&e.parentNode instanceof ShadowRoot?e.parentNode:t}function getDocument(){return document}function getRootNode(e,t){return e.getRootNode?e.getRootNode({composed:t}):getDocument()}function getClosestMatch(e,t){for(;e&&!t(e);)e=parentElt(e);return e||null}function getAttributeValueWithDisinheritance(e,t,n){let r=getAttributeValue(t,n),i=getAttributeValue(t,"hx-disinherit");var s=getAttributeValue(t,"hx-inherit");if(e!==t){if(htmx.config.disableInheritance)return s&&(s==="*"||s.split(" ").indexOf(n)>=0)?r:null;if(i&&(i==="*"||i.split(" ").indexOf(n)>=0))return"unset"}return r}function getClosestAttributeValue(e,t){let n=null;if(getClosestMatch(e,function(r){return!!(n=getAttributeValueWithDisinheritance(e,asElement(r),t))}),n!=="unset")return n}function matches(e,t){let n=e instanceof Element&&(e.matches||e.matchesSelector||e.msMatchesSelector||e.mozMatchesSelector||e.webkitMatchesSelector||e.oMatchesSelector);return!!n&&n.call(e,t)}function getStartTag(e){let n=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i.exec(e);return n?n[1].toLowerCase():""}function parseHTML(e){return new DOMParser().parseFromString(e,"text/html")}function takeChildrenFor(e,t){for(;t.childNodes.length>0;)e.append(t.childNodes[0])}function duplicateScript(e){let t=getDocument().createElement("script");return forEach(e.attributes,function(n){t.setAttribute(n.name,n.value)}),t.textContent=e.textContent,t.async=!1,htmx.config.inlineScriptNonce&&(t.nonce=htmx.config.inlineScriptNonce),t}function isJavaScriptScriptNode(e){return e.matches("script")&&(e.type==="text/javascript"||e.type==="module"||e.type==="")}function normalizeScriptTags(e){Array.from(e.querySelectorAll("script")).forEach(t=>{if(isJavaScriptScriptNode(t)){let n=duplicateScript(t),r=t.parentNode;try{r.insertBefore(n,t)}catch(i){logError(i)}finally{t.remove()}}})}function makeFragment(e){let t=e.replace(HEAD_TAG_REGEX,""),n=getStartTag(t),r;if(n==="html"){r=new DocumentFragment;let s=parseHTML(e);takeChildrenFor(r,s.body),r.title=s.title}else if(n==="body"){r=new DocumentFragment;let s=parseHTML(t);takeChildrenFor(r,s.body),r.title=s.title}else{let s=parseHTML('<body><template class="internal-htmx-wrapper">'+t+"</template></body>");r=s.querySelector("template").content,r.title=s.title;var i=r.querySelector("title");i&&i.parentNode===r&&(i.remove(),r.title=i.innerText)}return r&&(htmx.config.allowScriptTags?normalizeScriptTags(r):r.querySelectorAll("script").forEach(s=>s.remove())),r}function maybeCall(e){e&&e()}function isType(e,t){return Object.prototype.toString.call(e)==="[object "+t+"]"}function isFunction(e){return typeof e=="function"}function isRawObject(e){return isType(e,"Object")}function getInternalData(e){let t="htmx-internal-data",n=e[t];return n||(n=e[t]={}),n}function toArray(e){let t=[];if(e)for(let n=0;n<e.length;n++)t.push(e[n]);return t}function forEach(e,t){if(e)for(let n=0;n<e.length;n++)t(e[n])}function isScrolledIntoView(e){let t=e.getBoundingClientRect(),n=t.top,r=t.bottom;return n<window.innerHeight&&r>=0}function bodyContains(e){let t=e.getRootNode&&e.getRootNode();return t&&t instanceof window.ShadowRoot?getDocument().body.contains(t.host):getDocument().body.contains(e)}function splitOnWhitespace(e){return e.trim().split(/\s+/)}function mergeObjects(e,t){for(let n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function parseJSON(e){try{return JSON.parse(e)}catch(t){return logError(t),null}}function canAccessLocalStorage(){let e="htmx:localStorageTest";try{return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch{return!1}}function normalizePath(e){try{let t=new URL(e);return t&&(e=t.pathname+t.search),/^\/$/.test(e)||(e=e.replace(/\/+$/,"")),e}catch{return e}}function internalEval(str){return maybeEval(getDocument().body,function(){return eval(str)})}function onLoadHelper(e){return htmx.on("htmx:load",function(n){e(n.detail.elt)})}function logAll(){htmx.logger=function(e,t,n){console&&console.log(t,e,n)}}function logNone(){htmx.logger=null}function find(e,t){return typeof e!="string"?e.querySelector(t):find(getDocument(),e)}function findAll(e,t){return typeof e!="string"?e.querySelectorAll(t):findAll(getDocument(),e)}function getWindow(){return window}function removeElement(e,t){e=resolveTarget(e),t?getWindow().setTimeout(function(){removeElement(e),e=null},t):parentElt(e).removeChild(e)}function asElement(e){return e instanceof Element?e:null}function asHtmlElement(e){return e instanceof HTMLElement?e:null}function asString(e){return typeof e=="string"?e:null}function asParentNode(e){return e instanceof Element||e instanceof Document||e instanceof DocumentFragment?e:null}function addClassToElement(e,t,n){e=asElement(resolveTarget(e)),e&&(n?getWindow().setTimeout(function(){addClassToElement(e,t),e=null},n):e.classList&&e.classList.add(t))}function removeClassFromElement(e,t,n){let r=asElement(resolveTarget(e));r&&(n?getWindow().setTimeout(function(){removeClassFromElement(r,t),r=null},n):r.classList&&(r.classList.remove(t),r.classList.length===0&&r.removeAttribute("class")))}function toggleClassOnElement(e,t){e=resolveTarget(e),e.classList.toggle(t)}function takeClassForElement(e,t){e=resolveTarget(e),forEach(e.parentElement.children,function(n){removeClassFromElement(n,t)}),addClassToElement(asElement(e),t)}function closest(e,t){if(e=asElement(resolveTarget(e)),e&&e.closest)return e.closest(t);do if(e==null||matches(e,t))return e;while(e=e&&asElement(parentElt(e)));return null}function startsWith(e,t){return e.substring(0,t.length)===t}function endsWith(e,t){return e.substring(e.length-t.length)===t}function normalizeSelector(e){let t=e.trim();return startsWith(t,"<")&&endsWith(t,"/>")?t.substring(1,t.length-2):t}function querySelectorAllExt(e,t,n){return e=resolveTarget(e),t.indexOf("closest ")===0?[closest(asElement(e),normalizeSelector(t.substr(8)))]:t.indexOf("find ")===0?[find(asParentNode(e),normalizeSelector(t.substr(5)))]:t==="next"?[asElement(e).nextElementSibling]:t.indexOf("next ")===0?[scanForwardQuery(e,normalizeSelector(t.substr(5)),!!n)]:t==="previous"?[asElement(e).previousElementSibling]:t.indexOf("previous ")===0?[scanBackwardsQuery(e,normalizeSelector(t.substr(9)),!!n)]:t==="document"?[document]:t==="window"?[window]:t==="body"?[document.body]:t==="root"?[getRootNode(e,!!n)]:t.indexOf("global ")===0?querySelectorAllExt(e,t.slice(7),!0):toArray(asParentNode(getRootNode(e,!!n)).querySelectorAll(normalizeSelector(t)))}var scanForwardQuery=function(e,t,n){let r=asParentNode(getRootNode(e,n)).querySelectorAll(t);for(let i=0;i<r.length;i++){let s=r[i];if(s.compareDocumentPosition(e)===Node.DOCUMENT_POSITION_PRECEDING)return s}},scanBackwardsQuery=function(e,t,n){let r=asParentNode(getRootNode(e,n)).querySelectorAll(t);for(let i=r.length-1;i>=0;i--){let s=r[i];if(s.compareDocumentPosition(e)===Node.DOCUMENT_POSITION_FOLLOWING)return s}};function querySelectorExt(e,t){return typeof e!="string"?querySelectorAllExt(e,t)[0]:querySelectorAllExt(getDocument().body,e)[0]}function resolveTarget(e,t){return typeof e=="string"?find(asParentNode(t)||document,e):e}function processEventArgs(e,t,n){return isFunction(t)?{target:getDocument().body,event:asString(e),listener:t}:{target:resolveTarget(e),event:asString(t),listener:n}}function addEventListenerImpl(e,t,n){return ready(function(){let i=processEventArgs(e,t,n);i.target.addEventListener(i.event,i.listener)}),isFunction(t)?t:n}function removeEventListenerImpl(e,t,n){return ready(function(){let r=processEventArgs(e,t,n);r.target.removeEventListener(r.event,r.listener)}),isFunction(t)?t:n}let DUMMY_ELT=getDocument().createElement("output");function findAttributeTargets(e,t){let n=getClosestAttributeValue(e,t);if(n){if(n==="this")return[findThisElement(e,t)];{let r=querySelectorAllExt(e,n);return r.length===0?(logError('The selector "'+n+'" on '+t+" returned no matches!"),[DUMMY_ELT]):r}}}function findThisElement(e,t){return asElement(getClosestMatch(e,function(n){return getAttributeValue(asElement(n),t)!=null}))}function getTarget(e){let t=getClosestAttributeValue(e,"hx-target");return t?t==="this"?findThisElement(e,"hx-target"):querySelectorExt(e,t):getInternalData(e).boosted?getDocument().body:e}function shouldSettleAttribute(e){let t=htmx.config.attributesToSettle;for(let n=0;n<t.length;n++)if(e===t[n])return!0;return!1}function cloneAttributes(e,t){forEach(e.attributes,function(n){!t.hasAttribute(n.name)&&shouldSettleAttribute(n.name)&&e.removeAttribute(n.name)}),forEach(t.attributes,function(n){shouldSettleAttribute(n.name)&&e.setAttribute(n.name,n.value)})}function isInlineSwap(e,t){let n=getExtensions(t);for(let r=0;r<n.length;r++){let i=n[r];try{if(i.isInlineSwap(e))return!0}catch(s){logError(s)}}return e==="outerHTML"}function oobSwap(e,t,n){let r="#"+getRawAttribute(t,"id"),i="outerHTML";e==="true"||(e.indexOf(":")>0?(i=e.substr(0,e.indexOf(":")),r=e.substr(e.indexOf(":")+1,e.length)):i=e);let s=getDocument().querySelectorAll(r);return s?(forEach(s,function(o){let a,l=t.cloneNode(!0);a=getDocument().createDocumentFragment(),a.appendChild(l),isInlineSwap(i,o)||(a=asParentNode(l));let u={shouldSwap:!0,target:o,fragment:a};triggerEvent(o,"htmx:oobBeforeSwap",u)&&(o=u.target,u.shouldSwap&&swapWithStyle(i,o,o,a,n),forEach(n.elts,function(c){triggerEvent(c,"htmx:oobAfterSwap",u)}))}),t.parentNode.removeChild(t)):(t.parentNode.removeChild(t),triggerErrorEvent(getDocument().body,"htmx:oobErrorNoTarget",{content:t})),e}function handlePreservedElements(e){forEach(findAll(e,"[hx-preserve], [data-hx-preserve]"),function(t){let n=getAttributeValue(t,"id"),r=getDocument().getElementById(n);r!=null&&t.parentNode.replaceChild(r,t)})}function handleAttributes(e,t,n){forEach(t.querySelectorAll("[id]"),function(r){let i=getRawAttribute(r,"id");if(i&&i.length>0){let s=i.replace("'","\\'"),o=r.tagName.replace(":","\\:"),a=asParentNode(e),l=a&&a.querySelector(o+"[id='"+s+"']");if(l&&l!==a){let u=r.cloneNode();cloneAttributes(r,l),n.tasks.push(function(){cloneAttributes(r,u)})}}})}function makeAjaxLoadTask(e){return function(){removeClassFromElement(e,htmx.config.addedClass),processNode(asElement(e)),processFocus(asParentNode(e)),triggerEvent(e,"htmx:load")}}function processFocus(e){let t="[autofocus]",n=asHtmlElement(matches(e,t)?e:e.querySelector(t));n?.focus()}function insertNodesBefore(e,t,n,r){for(handleAttributes(e,n,r);n.childNodes.length>0;){let i=n.firstChild;addClassToElement(asElement(i),htmx.config.addedClass),e.insertBefore(i,t),i.nodeType!==Node.TEXT_NODE&&i.nodeType!==Node.COMMENT_NODE&&r.tasks.push(makeAjaxLoadTask(i))}}function stringHash(e,t){let n=0;for(;n<e.length;)t=(t<<5)-t+e.charCodeAt(n++)|0;return t}function attributeHash(e){let t=0;if(e.attributes)for(let n=0;n<e.attributes.length;n++){let r=e.attributes[n];r.value&&(t=stringHash(r.name,t),t=stringHash(r.value,t))}return t}function deInitOnHandlers(e){let t=getInternalData(e);if(t.onHandlers){for(let n=0;n<t.onHandlers.length;n++){let r=t.onHandlers[n];removeEventListenerImpl(e,r.event,r.listener)}delete t.onHandlers}}function deInitNode(e){let t=getInternalData(e);t.timeout&&clearTimeout(t.timeout),t.listenerInfos&&forEach(t.listenerInfos,function(n){n.on&&removeEventListenerImpl(n.on,n.trigger,n.listener)}),deInitOnHandlers(e),forEach(Object.keys(t),function(n){delete t[n]})}function cleanUpElement(e){triggerEvent(e,"htmx:beforeCleanupElement"),deInitNode(e),e.children&&forEach(e.children,function(t){cleanUpElement(t)})}function swapOuterHTML(e,t,n){if(e instanceof Element&&e.tagName==="BODY")return swapInnerHTML(e,t,n);let r,i=e.previousSibling;for(insertNodesBefore(parentElt(e),e,t,n),i==null?r=parentElt(e).firstChild:r=i.nextSibling,n.elts=n.elts.filter(function(s){return s!==e});r&&r!==e;)r instanceof Element?(n.elts.push(r),r=r.nextElementSibling):r=null;cleanUpElement(e),e instanceof Element?e.remove():e.parentNode.removeChild(e)}function swapAfterBegin(e,t,n){return insertNodesBefore(e,e.firstChild,t,n)}function swapBeforeBegin(e,t,n){return insertNodesBefore(parentElt(e),e,t,n)}function swapBeforeEnd(e,t,n){return insertNodesBefore(e,null,t,n)}function swapAfterEnd(e,t,n){return insertNodesBefore(parentElt(e),e.nextSibling,t,n)}function swapDelete(e){return cleanUpElement(e),parentElt(e).removeChild(e)}function swapInnerHTML(e,t,n){let r=e.firstChild;if(insertNodesBefore(e,r,t,n),r){for(;r.nextSibling;)cleanUpElement(r.nextSibling),e.removeChild(r.nextSibling);cleanUpElement(r),e.removeChild(r)}}function swapWithStyle(e,t,n,r,i){switch(e){case"none":return;case"outerHTML":swapOuterHTML(n,r,i);return;case"afterbegin":swapAfterBegin(n,r,i);return;case"beforebegin":swapBeforeBegin(n,r,i);return;case"beforeend":swapBeforeEnd(n,r,i);return;case"afterend":swapAfterEnd(n,r,i);return;case"delete":swapDelete(n);return;default:var s=getExtensions(t);for(let o=0;o<s.length;o++){let a=s[o];try{let l=a.handleSwap(e,n,r,i);if(l){if(typeof l.length<"u")for(let u=0;u<l.length;u++){let c=l[u];c.nodeType!==Node.TEXT_NODE&&c.nodeType!==Node.COMMENT_NODE&&i.tasks.push(makeAjaxLoadTask(c))}return}}catch(l){logError(l)}}e==="innerHTML"?swapInnerHTML(n,r,i):swapWithStyle(htmx.config.defaultSwapStyle,t,n,r,i)}}function findAndSwapOobElements(e,t){forEach(findAll(e,"[hx-swap-oob], [data-hx-swap-oob]"),function(n){if(htmx.config.allowNestedOobSwaps||n.parentElement===null){let r=getAttributeValue(n,"hx-swap-oob");r!=null&&oobSwap(r,n,t)}else n.removeAttribute("hx-swap-oob"),n.removeAttribute("data-hx-swap-oob")})}function swap(e,t,n,r){r||(r={}),e=resolveTarget(e);let i=document.activeElement,s={};try{s={elt:i,start:i?i.selectionStart:null,end:i?i.selectionEnd:null}}catch{}let o=makeSettleInfo(e);if(n.swapStyle==="textContent")e.textContent=t;else{let l=makeFragment(t);if(o.title=l.title,r.selectOOB){let u=r.selectOOB.split(",");for(let c=0;c<u.length;c++){let f=u[c].split(":",2),h=f[0].trim();h.indexOf("#")===0&&(h=h.substring(1));let p=f[1]||"true",b=l.querySelector("#"+h);b&&oobSwap(p,b,o)}}if(findAndSwapOobElements(l,o),forEach(findAll(l,"template"),function(u){findAndSwapOobElements(u.content,o),u.content.childElementCount===0&&u.content.textContent.trim()===""&&u.remove()}),r.select){let u=getDocument().createDocumentFragment();forEach(l.querySelectorAll(r.select),function(c){u.appendChild(c)}),l=u}handlePreservedElements(l),swapWithStyle(n.swapStyle,r.contextElement,e,l,o)}if(s.elt&&!bodyContains(s.elt)&&getRawAttribute(s.elt,"id")){let l=document.getElementById(getRawAttribute(s.elt,"id")),u={preventScroll:n.focusScroll!==void 0?!n.focusScroll:!htmx.config.defaultFocusScroll};if(l){if(s.start&&l.setSelectionRange)try{l.setSelectionRange(s.start,s.end)}catch{}l.focus(u)}}e.classList.remove(htmx.config.swappingClass),forEach(o.elts,function(l){l.classList&&l.classList.add(htmx.config.settlingClass),triggerEvent(l,"htmx:afterSwap",r.eventInfo)}),r.afterSwapCallback&&r.afterSwapCallback(),n.ignoreTitle||handleTitle(o.title);let a=function(){if(forEach(o.tasks,function(l){l.call()}),forEach(o.elts,function(l){l.classList&&l.classList.remove(htmx.config.settlingClass),triggerEvent(l,"htmx:afterSettle",r.eventInfo)}),r.anchor){let l=asElement(resolveTarget("#"+r.anchor));l&&l.scrollIntoView({block:"start",behavior:"auto"})}updateScrollState(o.elts,n),r.afterSettleCallback&&r.afterSettleCallback()};n.settleDelay>0?getWindow().setTimeout(a,n.settleDelay):a()}function handleTriggerHeader(e,t,n){let r=e.getResponseHeader(t);if(r.indexOf("{")===0){let i=parseJSON(r);for(let s in i)if(i.hasOwnProperty(s)){let o=i[s];isRawObject(o)||(o={value:o}),triggerEvent(n,s,o)}}else{let i=r.split(",");for(let s=0;s<i.length;s++)triggerEvent(n,i[s].trim(),[])}}let WHITESPACE=/\s/,WHITESPACE_OR_COMMA=/[\s,]/,SYMBOL_START=/[_$a-zA-Z]/,SYMBOL_CONT=/[_$a-zA-Z0-9]/,STRINGISH_START=['"',"'","/"],NOT_WHITESPACE=/[^\s]/,COMBINED_SELECTOR_START=/[{(]/,COMBINED_SELECTOR_END=/[})]/;function tokenizeString(e){let t=[],n=0;for(;n<e.length;){if(SYMBOL_START.exec(e.charAt(n))){for(var r=n;SYMBOL_CONT.exec(e.charAt(n+1));)n++;t.push(e.substr(r,n-r+1))}else if(STRINGISH_START.indexOf(e.charAt(n))!==-1){let i=e.charAt(n);var r=n;for(n++;n<e.length&&e.charAt(n)!==i;)e.charAt(n)==="\\"&&n++,n++;t.push(e.substr(r,n-r+1))}else{let i=e.charAt(n);t.push(i)}n++}return t}function isPossibleRelativeReference(e,t,n){return SYMBOL_START.exec(e.charAt(0))&&e!=="true"&&e!=="false"&&e!=="this"&&e!==n&&t!=="."}function maybeGenerateConditional(e,t,n){if(t[0]==="["){t.shift();let r=1,i=" return (function("+n+"){ return (",s=null;for(;t.length>0;){let o=t[0];if(o==="]"){if(r--,r===0){s===null&&(i=i+"true"),t.shift(),i+=")})";try{let a=maybeEval(e,function(){return Function(i)()},function(){return!0});return a.source=i,a}catch(a){return triggerErrorEvent(getDocument().body,"htmx:syntax:error",{error:a,source:i}),null}}}else o==="["&&r++;isPossibleRelativeReference(o,s,n)?i+="(("+n+"."+o+") ? ("+n+"."+o+") : (window."+o+"))":i=i+o,s=t.shift()}}}function consumeUntil(e,t){let n="";for(;e.length>0&&!t.test(e[0]);)n+=e.shift();return n}function consumeCSSSelector(e){let t;return e.length>0&&COMBINED_SELECTOR_START.test(e[0])?(e.shift(),t=consumeUntil(e,COMBINED_SELECTOR_END).trim(),e.shift()):t=consumeUntil(e,WHITESPACE_OR_COMMA),t}let INPUT_SELECTOR="input, textarea, select";function parseAndCacheTrigger(e,t,n){let r=[],i=tokenizeString(t);do{consumeUntil(i,NOT_WHITESPACE);let a=i.length,l=consumeUntil(i,/[,\[\s]/);if(l!=="")if(l==="every"){let u={trigger:"every"};consumeUntil(i,NOT_WHITESPACE),u.pollInterval=parseInterval(consumeUntil(i,/[,\[\s]/)),consumeUntil(i,NOT_WHITESPACE);var s=maybeGenerateConditional(e,i,"event");s&&(u.eventFilter=s),r.push(u)}else{let u={trigger:l};var s=maybeGenerateConditional(e,i,"event");for(s&&(u.eventFilter=s);i.length>0&&i[0]!==",";){consumeUntil(i,NOT_WHITESPACE);let f=i.shift();if(f==="changed")u.changed=!0;else if(f==="once")u.once=!0;else if(f==="consume")u.consume=!0;else if(f==="delay"&&i[0]===":")i.shift(),u.delay=parseInterval(consumeUntil(i,WHITESPACE_OR_COMMA));else if(f==="from"&&i[0]===":"){if(i.shift(),COMBINED_SELECTOR_START.test(i[0]))var o=consumeCSSSelector(i);else{var o=consumeUntil(i,WHITESPACE_OR_COMMA);if(o==="closest"||o==="find"||o==="next"||o==="previous"){i.shift();let p=consumeCSSSelector(i);p.length>0&&(o+=" "+p)}}u.from=o}else f==="target"&&i[0]===":"?(i.shift(),u.target=consumeCSSSelector(i)):f==="throttle"&&i[0]===":"?(i.shift(),u.throttle=parseInterval(consumeUntil(i,WHITESPACE_OR_COMMA))):f==="queue"&&i[0]===":"?(i.shift(),u.queue=consumeUntil(i,WHITESPACE_OR_COMMA)):f==="root"&&i[0]===":"?(i.shift(),u[f]=consumeCSSSelector(i)):f==="threshold"&&i[0]===":"?(i.shift(),u[f]=consumeUntil(i,WHITESPACE_OR_COMMA)):triggerErrorEvent(e,"htmx:syntax:error",{token:i.shift()})}r.push(u)}i.length===a&&triggerErrorEvent(e,"htmx:syntax:error",{token:i.shift()}),consumeUntil(i,NOT_WHITESPACE)}while(i[0]===","&&i.shift());return n&&(n[t]=r),r}function getTriggerSpecs(e){let t=getAttributeValue(e,"hx-trigger"),n=[];if(t){let r=htmx.config.triggerSpecsCache;n=r&&r[t]||parseAndCacheTrigger(e,t,r)}return n.length>0?n:matches(e,"form")?[{trigger:"submit"}]:matches(e,'input[type="button"], input[type="submit"]')?[{trigger:"click"}]:matches(e,INPUT_SELECTOR)?[{trigger:"change"}]:[{trigger:"click"}]}function cancelPolling(e){getInternalData(e).cancelled=!0}function processPolling(e,t,n){let r=getInternalData(e);r.timeout=getWindow().setTimeout(function(){bodyContains(e)&&r.cancelled!==!0&&(maybeFilterEvent(n,e,makeEvent("hx:poll:trigger",{triggerSpec:n,target:e}))||t(e),processPolling(e,t,n))},n.pollInterval)}function isLocalLink(e){return location.hostname===e.hostname&&getRawAttribute(e,"href")&&getRawAttribute(e,"href").indexOf("#")!==0}function eltIsDisabled(e){return closest(e,htmx.config.disableSelector)}function boostElement(e,t,n){if(e instanceof HTMLAnchorElement&&isLocalLink(e)&&(e.target===""||e.target==="_self")||e.tagName==="FORM"){t.boosted=!0;let r,i;if(e.tagName==="A")r="get",i=getRawAttribute(e,"href");else{let s=getRawAttribute(e,"method");r=s?s.toLowerCase():"get",i=getRawAttribute(e,"action")}n.forEach(function(s){addEventListener(e,function(o,a){let l=asElement(o);if(eltIsDisabled(l)){cleanUpElement(l);return}issueAjaxRequest(r,i,l,a)},t,s,!0)})}}function shouldCancel(e,t){let n=asElement(t);return n?!!((e.type==="submit"||e.type==="click")&&(n.tagName==="FORM"||matches(n,'input[type="submit"], button')&&closest(n,"form")!==null||n instanceof HTMLAnchorElement&&n.href&&(n.getAttribute("href")==="#"||n.getAttribute("href").indexOf("#")!==0))):!1}function ignoreBoostedAnchorCtrlClick(e,t){return getInternalData(e).boosted&&e instanceof HTMLAnchorElement&&t.type==="click"&&(t.ctrlKey||t.metaKey)}function maybeFilterEvent(e,t,n){let r=e.eventFilter;if(r)try{return r.call(t,n)!==!0}catch(i){let s=r.source;return triggerErrorEvent(getDocument().body,"htmx:eventFilter:error",{error:i,source:s}),!0}return!1}function addEventListener(e,t,n,r,i){let s=getInternalData(e),o;r.from?o=querySelectorAllExt(e,r.from):o=[e],r.changed&&o.forEach(function(a){let l=getInternalData(a);l.lastValue=a.value}),forEach(o,function(a){let l=function(u){if(!bodyContains(e)){a.removeEventListener(r.trigger,l);return}if(ignoreBoostedAnchorCtrlClick(e,u)||((i||shouldCancel(u,e))&&u.preventDefault(),maybeFilterEvent(r,e,u)))return;let c=getInternalData(u);if(c.triggerSpec=r,c.handledFor==null&&(c.handledFor=[]),c.handledFor.indexOf(e)<0){if(c.handledFor.push(e),r.consume&&u.stopPropagation(),r.target&&u.target&&!matches(asElement(u.target),r.target))return;if(r.once){if(s.triggeredOnce)return;s.triggeredOnce=!0}if(r.changed){let f=getInternalData(a),h=a.value;if(f.lastValue===h)return;f.lastValue=h}if(s.delayed&&clearTimeout(s.delayed),s.throttle)return;r.throttle>0?s.throttle||(t(e,u),s.throttle=getWindow().setTimeout(function(){s.throttle=null},r.throttle)):r.delay>0?s.delayed=getWindow().setTimeout(function(){t(e,u)},r.delay):(triggerEvent(e,"htmx:trigger"),t(e,u))}};n.listenerInfos==null&&(n.listenerInfos=[]),n.listenerInfos.push({trigger:r.trigger,listener:l,on:a}),a.addEventListener(r.trigger,l)})}let windowIsScrolling=!1,scrollHandler=null;function initScrollHandler(){scrollHandler||(scrollHandler=function(){windowIsScrolling=!0},window.addEventListener("scroll",scrollHandler),setInterval(function(){windowIsScrolling&&(windowIsScrolling=!1,forEach(getDocument().querySelectorAll("[hx-trigger*='revealed'],[data-hx-trigger*='revealed']"),function(e){maybeReveal(e)}))},200))}function maybeReveal(e){!hasAttribute(e,"data-hx-revealed")&&isScrolledIntoView(e)&&(e.setAttribute("data-hx-revealed","true"),getInternalData(e).initHash?triggerEvent(e,"revealed"):e.addEventListener("htmx:afterProcessNode",function(){triggerEvent(e,"revealed")},{once:!0}))}function loadImmediately(e,t,n,r){let i=function(){n.loaded||(n.loaded=!0,t(e))};r>0?getWindow().setTimeout(i,r):i()}function processVerbs(e,t,n){let r=!1;return forEach(VERBS,function(i){if(hasAttribute(e,"hx-"+i)){let s=getAttributeValue(e,"hx-"+i);r=!0,t.path=s,t.verb=i,n.forEach(function(o){addTriggerHandler(e,o,t,function(a,l){let u=asElement(a);if(closest(u,htmx.config.disableSelector)){cleanUpElement(u);return}issueAjaxRequest(i,s,u,l)})})}}),r}function addTriggerHandler(e,t,n,r){if(t.trigger==="revealed")initScrollHandler(),addEventListener(e,r,n,t),maybeReveal(asElement(e));else if(t.trigger==="intersect"){let i={};t.root&&(i.root=querySelectorExt(e,t.root)),t.threshold&&(i.threshold=parseFloat(t.threshold)),new IntersectionObserver(function(o){for(let a=0;a<o.length;a++)if(o[a].isIntersecting){triggerEvent(e,"intersect");break}},i).observe(asElement(e)),addEventListener(asElement(e),r,n,t)}else t.trigger==="load"?maybeFilterEvent(t,e,makeEvent("load",{elt:e}))||loadImmediately(asElement(e),r,n,t.delay):t.pollInterval>0?(n.polling=!0,processPolling(asElement(e),r,t)):addEventListener(e,r,n,t)}function shouldProcessHxOn(e){let t=asElement(e);if(!t)return!1;let n=t.attributes;for(let r=0;r<n.length;r++){let i=n[r].name;if(startsWith(i,"hx-on:")||startsWith(i,"data-hx-on:")||startsWith(i,"hx-on-")||startsWith(i,"data-hx-on-"))return!0}return!1}let HX_ON_QUERY=new XPathEvaluator().createExpression('.//*[@*[ starts-with(name(), "hx-on:") or starts-with(name(), "data-hx-on:") or starts-with(name(), "hx-on-") or starts-with(name(), "data-hx-on-") ]]');function processHXOnRoot(e,t){shouldProcessHxOn(e)&&t.push(asElement(e));let n=HX_ON_QUERY.evaluate(e),r=null;for(;r=n.iterateNext();)t.push(asElement(r))}function findHxOnWildcardElements(e){let t=[];if(e instanceof DocumentFragment)for(let n of e.childNodes)processHXOnRoot(n,t);else processHXOnRoot(e,t);return t}function findElementsToProcess(e){if(e.querySelectorAll){let n=", [hx-boost] a, [data-hx-boost] a, a[hx-boost], a[data-hx-boost]",r=[];for(let s in extensions){let o=extensions[s];if(o.getSelectors){var t=o.getSelectors();t&&r.push(t)}}return e.querySelectorAll(VERB_SELECTOR+n+", form, [type='submit'], [hx-ext], [data-hx-ext], [hx-trigger], [data-hx-trigger]"+r.flat().map(s=>", "+s).join(""))}else return[]}function maybeSetLastButtonClicked(e){let t=closest(asElement(e.target),"button, input[type='submit']"),n=getRelatedFormData(e);n&&(n.lastButtonClicked=t)}function maybeUnsetLastButtonClicked(e){let t=getRelatedFormData(e);t&&(t.lastButtonClicked=null)}function getRelatedFormData(e){let t=closest(asElement(e.target),"button, input[type='submit']");if(!t)return;let n=resolveTarget("#"+getRawAttribute(t,"form"),t.getRootNode())||closest(t,"form");if(n)return getInternalData(n)}function initButtonTracking(e){e.addEventListener("click",maybeSetLastButtonClicked),e.addEventListener("focusin",maybeSetLastButtonClicked),e.addEventListener("focusout",maybeUnsetLastButtonClicked)}function addHxOnEventHandler(e,t,n){let r=getInternalData(e);Array.isArray(r.onHandlers)||(r.onHandlers=[]);let i,s=function(o){maybeEval(e,function(){eltIsDisabled(e)||(i||(i=new Function("event",n)),i.call(e,o))})};e.addEventListener(t,s),r.onHandlers.push({event:t,listener:s})}function processHxOnWildcard(e){deInitOnHandlers(e);for(let t=0;t<e.attributes.length;t++){let n=e.attributes[t].name,r=e.attributes[t].value;if(startsWith(n,"hx-on")||startsWith(n,"data-hx-on")){let i=n.indexOf("-on")+3,s=n.slice(i,i+1);if(s==="-"||s===":"){let o=n.slice(i+1);startsWith(o,":")?o="htmx"+o:startsWith(o,"-")?o="htmx:"+o.slice(1):startsWith(o,"htmx-")&&(o="htmx:"+o.slice(5)),addHxOnEventHandler(e,o,r)}}}}function initNode(e){if(closest(e,htmx.config.disableSelector)){cleanUpElement(e);return}let t=getInternalData(e);if(t.initHash!==attributeHash(e)){deInitNode(e),t.initHash=attributeHash(e),triggerEvent(e,"htmx:beforeProcessNode"),e.value&&(t.lastValue=e.value);let n=getTriggerSpecs(e);processVerbs(e,t,n)||(getClosestAttributeValue(e,"hx-boost")==="true"?boostElement(e,t,n):hasAttribute(e,"hx-trigger")&&n.forEach(function(i){addTriggerHandler(e,i,t,function(){})})),(e.tagName==="FORM"||getRawAttribute(e,"type")==="submit"&&hasAttribute(e,"form"))&&initButtonTracking(e),triggerEvent(e,"htmx:afterProcessNode")}}function processNode(e){if(e=resolveTarget(e),closest(e,htmx.config.disableSelector)){cleanUpElement(e);return}initNode(e),forEach(findElementsToProcess(e),function(t){initNode(t)}),forEach(findHxOnWildcardElements(e),processHxOnWildcard)}function kebabEventName(e){return e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}function makeEvent(e,t){let n;return window.CustomEvent&&typeof window.CustomEvent=="function"?n=new CustomEvent(e,{bubbles:!0,cancelable:!0,composed:!0,detail:t}):(n=getDocument().createEvent("CustomEvent"),n.initCustomEvent(e,!0,!0,t)),n}function triggerErrorEvent(e,t,n){triggerEvent(e,t,mergeObjects({error:t},n))}function ignoreEventForLogging(e){return e==="htmx:afterProcessNode"}function withExtensions(e,t){forEach(getExtensions(e),function(n){try{t(n)}catch(r){logError(r)}})}function logError(e){console.error?console.error(e):console.log&&console.log("ERROR: ",e)}function triggerEvent(e,t,n){e=resolveTarget(e),n==null&&(n={}),n.elt=e;let r=makeEvent(t,n);htmx.logger&&!ignoreEventForLogging(t)&&htmx.logger(e,t,n),n.error&&(logError(n.error),triggerEvent(e,"htmx:error",{errorInfo:n}));let i=e.dispatchEvent(r),s=kebabEventName(t);if(i&&s!==t){let o=makeEvent(s,r.detail);i=i&&e.dispatchEvent(o)}return withExtensions(asElement(e),function(o){i=i&&o.onEvent(t,r)!==!1&&!r.defaultPrevented}),i}let currentPathForHistory=location.pathname+location.search;function getHistoryElement(){return getDocument().querySelector("[hx-history-elt],[data-hx-history-elt]")||getDocument().body}function saveToHistoryCache(e,t){if(!canAccessLocalStorage())return;let n=cleanInnerHtmlForHistory(t),r=getDocument().title,i=window.scrollY;if(htmx.config.historyCacheSize<=0){localStorage.removeItem("htmx-history-cache");return}e=normalizePath(e);let s=parseJSON(localStorage.getItem("htmx-history-cache"))||[];for(let a=0;a<s.length;a++)if(s[a].url===e){s.splice(a,1);break}let o={url:e,content:n,title:r,scroll:i};for(triggerEvent(getDocument().body,"htmx:historyItemCreated",{item:o,cache:s}),s.push(o);s.length>htmx.config.historyCacheSize;)s.shift();for(;s.length>0;)try{localStorage.setItem("htmx-history-cache",JSON.stringify(s));break}catch(a){triggerErrorEvent(getDocument().body,"htmx:historyCacheError",{cause:a,cache:s}),s.shift()}}function getCachedHistory(e){if(!canAccessLocalStorage())return null;e=normalizePath(e);let t=parseJSON(localStorage.getItem("htmx-history-cache"))||[];for(let n=0;n<t.length;n++)if(t[n].url===e)return t[n];return null}function cleanInnerHtmlForHistory(e){let t=htmx.config.requestClass,n=e.cloneNode(!0);return forEach(findAll(n,"."+t),function(r){removeClassFromElement(r,t)}),n.innerHTML}function saveCurrentPageToHistory(){let e=getHistoryElement(),t=currentPathForHistory||location.pathname+location.search,n;try{n=getDocument().querySelector('[hx-history="false" i],[data-hx-history="false" i]')}catch{n=getDocument().querySelector('[hx-history="false"],[data-hx-history="false"]')}n||(triggerEvent(getDocument().body,"htmx:beforeHistorySave",{path:t,historyElt:e}),saveToHistoryCache(t,e)),htmx.config.historyEnabled&&history.replaceState({htmx:!0},getDocument().title,window.location.href)}function pushUrlIntoHistory(e){htmx.config.getCacheBusterParam&&(e=e.replace(/org\.htmx\.cache-buster=[^&]*&?/,""),(endsWith(e,"&")||endsWith(e,"?"))&&(e=e.slice(0,-1))),htmx.config.historyEnabled&&history.pushState({htmx:!0},"",e),currentPathForHistory=e}function replaceUrlInHistory(e){htmx.config.historyEnabled&&history.replaceState({htmx:!0},"",e),currentPathForHistory=e}function settleImmediately(e){forEach(e,function(t){t.call(void 0)})}function loadHistoryFromServer(e){let t=new XMLHttpRequest,n={path:e,xhr:t};triggerEvent(getDocument().body,"htmx:historyCacheMiss",n),t.open("GET",e,!0),t.setRequestHeader("HX-Request","true"),t.setRequestHeader("HX-History-Restore-Request","true"),t.setRequestHeader("HX-Current-URL",getDocument().location.href),t.onload=function(){if(this.status>=200&&this.status<400){triggerEvent(getDocument().body,"htmx:historyCacheMissLoad",n);let r=makeFragment(this.response),i=r.querySelector("[hx-history-elt],[data-hx-history-elt]")||r,s=getHistoryElement(),o=makeSettleInfo(s);handleTitle(r.title),swapInnerHTML(s,i,o),settleImmediately(o.tasks),currentPathForHistory=e,triggerEvent(getDocument().body,"htmx:historyRestore",{path:e,cacheMiss:!0,serverResponse:this.response})}else triggerErrorEvent(getDocument().body,"htmx:historyCacheMissLoadError",n)},t.send()}function restoreHistory(e){saveCurrentPageToHistory(),e=e||location.pathname+location.search;let t=getCachedHistory(e);if(t){let n=makeFragment(t.content),r=getHistoryElement(),i=makeSettleInfo(r);handleTitle(n.title),swapInnerHTML(r,n,i),settleImmediately(i.tasks),getWindow().setTimeout(function(){window.scrollTo(0,t.scroll)},0),currentPathForHistory=e,triggerEvent(getDocument().body,"htmx:historyRestore",{path:e,item:t})}else htmx.config.refreshOnHistoryMiss?window.location.reload(!0):loadHistoryFromServer(e)}function addRequestIndicatorClasses(e){let t=findAttributeTargets(e,"hx-indicator");return t==null&&(t=[e]),forEach(t,function(n){let r=getInternalData(n);r.requestCount=(r.requestCount||0)+1,n.classList.add.call(n.classList,htmx.config.requestClass)}),t}function disableElements(e){let t=findAttributeTargets(e,"hx-disabled-elt");return t==null&&(t=[]),forEach(t,function(n){let r=getInternalData(n);r.requestCount=(r.requestCount||0)+1,n.setAttribute("disabled","")}),t}function removeRequestIndicators(e,t){forEach(e,function(n){let r=getInternalData(n);r.requestCount=(r.requestCount||0)-1,r.requestCount===0&&n.classList.remove.call(n.classList,htmx.config.requestClass)}),forEach(t,function(n){let r=getInternalData(n);r.requestCount=(r.requestCount||0)-1,r.requestCount===0&&n.removeAttribute("disabled")})}function haveSeenNode(e,t){for(let n=0;n<e.length;n++)if(e[n].isSameNode(t))return!0;return!1}function shouldInclude(e){let t=e;return t.name===""||t.name==null||t.disabled||closest(t,"fieldset[disabled]")||t.type==="button"||t.type==="submit"||t.tagName==="image"||t.tagName==="reset"||t.tagName==="file"?!1:t.type==="checkbox"||t.type==="radio"?t.checked:!0}function addValueToFormData(e,t,n){e!=null&&t!=null&&(Array.isArray(t)?t.forEach(function(r){n.append(e,r)}):n.append(e,t))}function removeValueFromFormData(e,t,n){if(e!=null&&t!=null){let r=n.getAll(e);Array.isArray(t)?r=r.filter(i=>t.indexOf(i)<0):r=r.filter(i=>i!==t),n.delete(e),forEach(r,i=>n.append(e,i))}}function processInputValue(e,t,n,r,i){if(!(r==null||haveSeenNode(e,r))){if(e.push(r),shouldInclude(r)){let s=getRawAttribute(r,"name"),o=r.value;r instanceof HTMLSelectElement&&r.multiple&&(o=toArray(r.querySelectorAll("option:checked")).map(function(a){return a.value})),r instanceof HTMLInputElement&&r.files&&(o=toArray(r.files)),addValueToFormData(s,o,t),i&&validateElement(r,n)}r instanceof HTMLFormElement&&(forEach(r.elements,function(s){e.indexOf(s)>=0?removeValueFromFormData(s.name,s.value,t):e.push(s),i&&validateElement(s,n)}),new FormData(r).forEach(function(s,o){s instanceof File&&s.name===""||addValueToFormData(o,s,t)}))}}function validateElement(e,t){let n=e;n.willValidate&&(triggerEvent(n,"htmx:validation:validate"),n.checkValidity()||(t.push({elt:n,message:n.validationMessage,validity:n.validity}),triggerEvent(n,"htmx:validation:failed",{message:n.validationMessage,validity:n.validity})))}function overrideFormData(e,t){for(let n of t.keys())e.delete(n),t.getAll(n).forEach(function(r){e.append(n,r)});return e}function getInputValues(e,t){let n=[],r=new FormData,i=new FormData,s=[],o=getInternalData(e);o.lastButtonClicked&&!bodyContains(o.lastButtonClicked)&&(o.lastButtonClicked=null);let a=e instanceof HTMLFormElement&&e.noValidate!==!0||getAttributeValue(e,"hx-validate")==="true";if(o.lastButtonClicked&&(a=a&&o.lastButtonClicked.formNoValidate!==!0),t!=="get"&&processInputValue(n,i,s,closest(e,"form"),a),processInputValue(n,r,s,e,a),o.lastButtonClicked||e.tagName==="BUTTON"||e.tagName==="INPUT"&&getRawAttribute(e,"type")==="submit"){let u=o.lastButtonClicked||e,c=getRawAttribute(u,"name");addValueToFormData(c,u.value,i)}let l=findAttributeTargets(e,"hx-include");return forEach(l,function(u){processInputValue(n,r,s,asElement(u),a),matches(u,"form")||forEach(asParentNode(u).querySelectorAll(INPUT_SELECTOR),function(c){processInputValue(n,r,s,c,a)})}),overrideFormData(r,i),{errors:s,formData:r,values:formDataProxy(r)}}function appendParam(e,t,n){e!==""&&(e+="&"),String(n)==="[object Object]"&&(n=JSON.stringify(n));let r=encodeURIComponent(n);return e+=encodeURIComponent(t)+"="+r,e}function urlEncode(e){e=formDataFromObject(e);let t="";return e.forEach(function(n,r){t=appendParam(t,r,n)}),t}function getHeaders(e,t,n){let r={"HX-Request":"true","HX-Trigger":getRawAttribute(e,"id"),"HX-Trigger-Name":getRawAttribute(e,"name"),"HX-Target":getAttributeValue(t,"id"),"HX-Current-URL":getDocument().location.href};return getValuesForElement(e,"hx-headers",!1,r),n!==void 0&&(r["HX-Prompt"]=n),getInternalData(e).boosted&&(r["HX-Boosted"]="true"),r}function filterValues(e,t){let n=getClosestAttributeValue(t,"hx-params");if(n){if(n==="none")return new FormData;if(n==="*")return e;if(n.indexOf("not ")===0)return forEach(n.substr(4).split(","),function(r){r=r.trim(),e.delete(r)}),e;{let r=new FormData;return forEach(n.split(","),function(i){i=i.trim(),e.has(i)&&e.getAll(i).forEach(function(s){r.append(i,s)})}),r}}else return e}function isAnchorLink(e){return!!getRawAttribute(e,"href")&&getRawAttribute(e,"href").indexOf("#")>=0}function getSwapSpecification(e,t){let n=t||getClosestAttributeValue(e,"hx-swap"),r={swapStyle:getInternalData(e).boosted?"innerHTML":htmx.config.defaultSwapStyle,swapDelay:htmx.config.defaultSwapDelay,settleDelay:htmx.config.defaultSettleDelay};if(htmx.config.scrollIntoViewOnBoost&&getInternalData(e).boosted&&!isAnchorLink(e)&&(r.show="top"),n){let o=splitOnWhitespace(n);if(o.length>0)for(let a=0;a<o.length;a++){let l=o[a];if(l.indexOf("swap:")===0)r.swapDelay=parseInterval(l.substr(5));else if(l.indexOf("settle:")===0)r.settleDelay=parseInterval(l.substr(7));else if(l.indexOf("transition:")===0)r.transition=l.substr(11)==="true";else if(l.indexOf("ignoreTitle:")===0)r.ignoreTitle=l.substr(12)==="true";else if(l.indexOf("scroll:")===0){var i=l.substr(7).split(":");let c=i.pop();var s=i.length>0?i.join(":"):null;r.scroll=c,r.scrollTarget=s}else if(l.indexOf("show:")===0){var i=l.substr(5).split(":");let f=i.pop();var s=i.length>0?i.join(":"):null;r.show=f,r.showTarget=s}else if(l.indexOf("focus-scroll:")===0){let u=l.substr(13);r.focusScroll=u=="true"}else a==0?r.swapStyle=l:logError("Unknown modifier in hx-swap: "+l)}}return r}function usesFormData(e){return getClosestAttributeValue(e,"hx-encoding")==="multipart/form-data"||matches(e,"form")&&getRawAttribute(e,"enctype")==="multipart/form-data"}function encodeParamsForBody(e,t,n){let r=null;return withExtensions(t,function(i){r==null&&(r=i.encodeParameters(e,n,t))}),r??(usesFormData(t)?overrideFormData(new FormData,formDataFromObject(n)):urlEncode(n))}function makeSettleInfo(e){return{tasks:[],elts:[e]}}function updateScrollState(e,t){let n=e[0],r=e[e.length-1];if(t.scroll){var i=null;t.scrollTarget&&(i=asElement(querySelectorExt(n,t.scrollTarget))),t.scroll==="top"&&(n||i)&&(i=i||n,i.scrollTop=0),t.scroll==="bottom"&&(r||i)&&(i=i||r,i.scrollTop=i.scrollHeight)}if(t.show){var i=null;if(t.showTarget){let o=t.showTarget;t.showTarget==="window"&&(o="body"),i=asElement(querySelectorExt(n,o))}t.show==="top"&&(n||i)&&(i=i||n,i.scrollIntoView({block:"start",behavior:htmx.config.scrollBehavior})),t.show==="bottom"&&(r||i)&&(i=i||r,i.scrollIntoView({block:"end",behavior:htmx.config.scrollBehavior}))}}function getValuesForElement(e,t,n,r){if(r==null&&(r={}),e==null)return r;let i=getAttributeValue(e,t);if(i){let s=i.trim(),o=n;if(s==="unset")return null;s.indexOf("javascript:")===0?(s=s.substr(11),o=!0):s.indexOf("js:")===0&&(s=s.substr(3),o=!0),s.indexOf("{")!==0&&(s="{"+s+"}");let a;o?a=maybeEval(e,function(){return Function("return ("+s+")")()},{}):a=parseJSON(s);for(let l in a)a.hasOwnProperty(l)&&r[l]==null&&(r[l]=a[l])}return getValuesForElement(asElement(parentElt(e)),t,n,r)}function maybeEval(e,t,n){return htmx.config.allowEval?t():(triggerErrorEvent(e,"htmx:evalDisallowedError"),n)}function getHXVarsForElement(e,t){return getValuesForElement(e,"hx-vars",!0,t)}function getHXValsForElement(e,t){return getValuesForElement(e,"hx-vals",!1,t)}function getExpressionVars(e){return mergeObjects(getHXVarsForElement(e),getHXValsForElement(e))}function safelySetHeaderValue(e,t,n){if(n!==null)try{e.setRequestHeader(t,n)}catch{e.setRequestHeader(t,encodeURIComponent(n)),e.setRequestHeader(t+"-URI-AutoEncoded","true")}}function getPathFromResponse(e){if(e.responseURL&&typeof URL<"u")try{let t=new URL(e.responseURL);return t.pathname+t.search}catch{triggerErrorEvent(getDocument().body,"htmx:badResponseUrl",{url:e.responseURL})}}function hasHeader(e,t){return t.test(e.getAllResponseHeaders())}function ajaxHelper(e,t,n){return e=e.toLowerCase(),n?n instanceof Element||typeof n=="string"?issueAjaxRequest(e,t,null,null,{targetOverride:resolveTarget(n),returnPromise:!0}):issueAjaxRequest(e,t,resolveTarget(n.source),n.event,{handler:n.handler,headers:n.headers,values:n.values,targetOverride:resolveTarget(n.target),swapOverride:n.swap,select:n.select,returnPromise:!0}):issueAjaxRequest(e,t,null,null,{returnPromise:!0})}function hierarchyForElt(e){let t=[];for(;e;)t.push(e),e=e.parentElement;return t}function verifyPath(e,t,n){let r,i;return typeof URL=="function"?(i=new URL(t,document.location.href),r=document.location.origin===i.origin):(i=t,r=startsWith(t,document.location.origin)),htmx.config.selfRequestsOnly&&!r?!1:triggerEvent(e,"htmx:validateUrl",mergeObjects({url:i,sameHost:r},n))}function formDataFromObject(e){if(e instanceof FormData)return e;let t=new FormData;for(let n in e)e.hasOwnProperty(n)&&(typeof e[n].forEach=="function"?e[n].forEach(function(r){t.append(n,r)}):typeof e[n]=="object"?t.append(n,JSON.stringify(e[n])):t.append(n,e[n]));return t}function formDataArrayProxy(e,t,n){return new Proxy(n,{get:function(r,i){return typeof i=="number"?r[i]:i==="length"?r.length:i==="push"?function(s){r.push(s),e.append(t,s)}:typeof r[i]=="function"?function(){r[i].apply(r,arguments),e.delete(t),r.forEach(function(s){e.append(t,s)})}:r[i]&&r[i].length===1?r[i][0]:r[i]},set:function(r,i,s){return r[i]=s,e.delete(t),r.forEach(function(o){e.append(t,o)}),!0}})}function formDataProxy(e){return new Proxy(e,{get:function(t,n){if(typeof n=="symbol")return Reflect.get(t,n);if(n==="toJSON")return()=>Object.fromEntries(e);if(n in t)return typeof t[n]=="function"?function(){return e[n].apply(e,arguments)}:t[n];let r=e.getAll(n);if(r.length!==0)return r.length===1?r[0]:formDataArrayProxy(t,n,r)},set:function(t,n,r){return typeof n!="string"?!1:(t.delete(n),typeof r.forEach=="function"?r.forEach(function(i){t.append(n,i)}):t.append(n,r),!0)},deleteProperty:function(t,n){return typeof n=="string"&&t.delete(n),!0},ownKeys:function(t){return Reflect.ownKeys(Object.fromEntries(t))},getOwnPropertyDescriptor:function(t,n){return Reflect.getOwnPropertyDescriptor(Object.fromEntries(t),n)}})}function issueAjaxRequest(e,t,n,r,i,s){let o=null,a=null;if(i=i??{},i.returnPromise&&typeof Promise<"u")var l=new Promise(function(_,$){o=_,a=$});n==null&&(n=getDocument().body);let u=i.handler||handleAjaxResponse,c=i.select||null;if(!bodyContains(n))return maybeCall(o),l;let f=i.targetOverride||asElement(getTarget(n));if(f==null||f==DUMMY_ELT)return triggerErrorEvent(n,"htmx:targetError",{target:getAttributeValue(n,"hx-target")}),maybeCall(a),l;let h=getInternalData(n),p=h.lastButtonClicked;if(p){let _=getRawAttribute(p,"formaction");_!=null&&(t=_);let $=getRawAttribute(p,"formmethod");$!=null&&$.toLowerCase()!=="dialog"&&(e=$)}let b=getClosestAttributeValue(n,"hx-confirm");if(s===void 0&&triggerEvent(n,"htmx:confirm",{target:f,elt:n,path:t,verb:e,triggeringEvent:r,etc:i,issueRequest:function(J){return issueAjaxRequest(e,t,n,r,i,!!J)},question:b})===!1)return maybeCall(o),l;let S=n,d=getClosestAttributeValue(n,"hx-sync"),m=null,x=!1;if(d){let _=d.split(":"),$=_[0].trim();if($==="this"?S=findThisElement(n,"hx-sync"):S=asElement(querySelectorExt(n,$)),d=(_[1]||"drop").trim(),h=getInternalData(S),d==="drop"&&h.xhr&&h.abortable!==!0)return maybeCall(o),l;if(d==="abort"){if(h.xhr)return maybeCall(o),l;x=!0}else d==="replace"?triggerEvent(S,"htmx:abort"):d.indexOf("queue")===0&&(m=(d.split(" ")[1]||"last").trim())}if(h.xhr)if(h.abortable)triggerEvent(S,"htmx:abort");else{if(m==null){if(r){let _=getInternalData(r);_&&_.triggerSpec&&_.triggerSpec.queue&&(m=_.triggerSpec.queue)}m==null&&(m="last")}return h.queuedRequests==null&&(h.queuedRequests=[]),m==="first"&&h.queuedRequests.length===0?h.queuedRequests.push(function(){issueAjaxRequest(e,t,n,r,i)}):m==="all"?h.queuedRequests.push(function(){issueAjaxRequest(e,t,n,r,i)}):m==="last"&&(h.queuedRequests=[],h.queuedRequests.push(function(){issueAjaxRequest(e,t,n,r,i)})),maybeCall(o),l}let v=new XMLHttpRequest;h.xhr=v,h.abortable=x;let w=function(){h.xhr=null,h.abortable=!1,h.queuedRequests!=null&&h.queuedRequests.length>0&&h.queuedRequests.shift()()},O=getClosestAttributeValue(n,"hx-prompt");if(O){var T=prompt(O);if(T===null||!triggerEvent(n,"htmx:prompt",{prompt:T,target:f}))return maybeCall(o),w(),l}if(b&&!s&&!confirm(b))return maybeCall(o),w(),l;let A=getHeaders(n,f,T);e!=="get"&&!usesFormData(n)&&(A["Content-Type"]="application/x-www-form-urlencoded"),i.headers&&(A=mergeObjects(A,i.headers));let y=getInputValues(n,e),E=y.errors,B=y.formData;i.values&&overrideFormData(B,formDataFromObject(i.values));let re=formDataFromObject(getExpressionVars(n)),k=overrideFormData(B,re),Q=filterValues(k,n);htmx.config.getCacheBusterParam&&e==="get"&&Q.set("org.htmx.cache-buster",getRawAttribute(f,"id")||"true"),(t==null||t==="")&&(t=getDocument().location.href);let V=getValuesForElement(n,"hx-request"),K=getInternalData(n).boosted,z=htmx.config.methodsThatUseUrlParams.indexOf(e)>=0,C={boosted:K,useUrlParams:z,formData:Q,parameters:formDataProxy(Q),unfilteredFormData:k,unfilteredParameters:formDataProxy(k),headers:A,target:f,verb:e,errors:E,withCredentials:i.credentials||V.credentials||htmx.config.withCredentials,timeout:i.timeout||V.timeout||htmx.config.timeout,path:t,triggeringEvent:r};if(!triggerEvent(n,"htmx:configRequest",C))return maybeCall(o),w(),l;if(t=C.path,e=C.verb,A=C.headers,Q=formDataFromObject(C.parameters),E=C.errors,z=C.useUrlParams,E&&E.length>0)return triggerEvent(n,"htmx:validation:halted",C),maybeCall(o),w(),l;let G=t.split("#"),ie=G[0],pe=G[1],q=t;if(z&&(q=ie,!Q.keys().next().done&&(q.indexOf("?")<0?q+="?":q+="&",q+=urlEncode(Q),pe&&(q+="#"+pe))),!verifyPath(n,q,C))return triggerErrorEvent(n,"htmx:invalidPath",C),maybeCall(a),l;if(v.open(e.toUpperCase(),q,!0),v.overrideMimeType("text/html"),v.withCredentials=C.withCredentials,v.timeout=C.timeout,!V.noHeaders){for(let _ in A)if(A.hasOwnProperty(_)){let $=A[_];safelySetHeaderValue(v,_,$)}}let N={xhr:v,target:f,requestConfig:C,etc:i,boosted:K,select:c,pathInfo:{requestPath:t,finalRequestPath:q,responsePath:null,anchor:pe}};if(v.onload=function(){try{let _=hierarchyForElt(n);if(N.pathInfo.responsePath=getPathFromResponse(v),u(n,N),removeRequestIndicators(ee,W),triggerEvent(n,"htmx:afterRequest",N),triggerEvent(n,"htmx:afterOnLoad",N),!bodyContains(n)){let $=null;for(;_.length>0&&$==null;){let J=_.shift();bodyContains(J)&&($=J)}$&&(triggerEvent($,"htmx:afterRequest",N),triggerEvent($,"htmx:afterOnLoad",N))}maybeCall(o),w()}catch(_){throw triggerErrorEvent(n,"htmx:onLoadError",mergeObjects({error:_},N)),_}},v.onerror=function(){removeRequestIndicators(ee,W),triggerErrorEvent(n,"htmx:afterRequest",N),triggerErrorEvent(n,"htmx:sendError",N),maybeCall(a),w()},v.onabort=function(){removeRequestIndicators(ee,W),triggerErrorEvent(n,"htmx:afterRequest",N),triggerErrorEvent(n,"htmx:sendAbort",N),maybeCall(a),w()},v.ontimeout=function(){removeRequestIndicators(ee,W),triggerErrorEvent(n,"htmx:afterRequest",N),triggerErrorEvent(n,"htmx:timeout",N),maybeCall(a),w()},!triggerEvent(n,"htmx:beforeRequest",N))return maybeCall(o),w(),l;var ee=addRequestIndicatorClasses(n),W=disableElements(n);forEach(["loadstart","loadend","progress","abort"],function(_){forEach([v,v.upload],function($){$.addEventListener(_,function(J){triggerEvent(n,"htmx:xhr:"+_,{lengthComputable:J.lengthComputable,loaded:J.loaded,total:J.total})})})}),triggerEvent(n,"htmx:beforeSend",N);let P=z?null:encodeParamsForBody(v,n,Q);return v.send(P),l}function determineHistoryUpdates(e,t){let n=t.xhr,r=null,i=null;if(hasHeader(n,/HX-Push:/i)?(r=n.getResponseHeader("HX-Push"),i="push"):hasHeader(n,/HX-Push-Url:/i)?(r=n.getResponseHeader("HX-Push-Url"),i="push"):hasHeader(n,/HX-Replace-Url:/i)&&(r=n.getResponseHeader("HX-Replace-Url"),i="replace"),r)return r==="false"?{}:{type:i,path:r};let s=t.pathInfo.finalRequestPath,o=t.pathInfo.responsePath,a=getClosestAttributeValue(e,"hx-push-url"),l=getClosestAttributeValue(e,"hx-replace-url"),u=getInternalData(e).boosted,c=null,f=null;return a?(c="push",f=a):l?(c="replace",f=l):u&&(c="push",f=o||s),f?f==="false"?{}:(f==="true"&&(f=o||s),t.pathInfo.anchor&&f.indexOf("#")===-1&&(f=f+"#"+t.pathInfo.anchor),{type:c,path:f}):{}}function codeMatches(e,t){var n=new RegExp(e.code);return n.test(t.toString(10))}function resolveResponseHandling(e){for(var t=0;t<htmx.config.responseHandling.length;t++){var n=htmx.config.responseHandling[t];if(codeMatches(n,e.status))return n}return{swap:!1}}function handleTitle(e){if(e){let t=find("title");t?t.innerHTML=e:window.document.title=e}}function handleAjaxResponse(e,t){let n=t.xhr,r=t.target,i=t.etc,s=t.select;if(!triggerEvent(e,"htmx:beforeOnLoad",t))return;if(hasHeader(n,/HX-Trigger:/i)&&handleTriggerHeader(n,"HX-Trigger",e),hasHeader(n,/HX-Location:/i)){saveCurrentPageToHistory();let x=n.getResponseHeader("HX-Location");var o;x.indexOf("{")===0&&(o=parseJSON(x),x=o.path,delete o.path),ajaxHelper("get",x,o).then(function(){pushUrlIntoHistory(x)});return}let a=hasHeader(n,/HX-Refresh:/i)&&n.getResponseHeader("HX-Refresh")==="true";if(hasHeader(n,/HX-Redirect:/i)){location.href=n.getResponseHeader("HX-Redirect"),a&&location.reload();return}if(a){location.reload();return}hasHeader(n,/HX-Retarget:/i)&&(n.getResponseHeader("HX-Retarget")==="this"?t.target=e:t.target=asElement(querySelectorExt(e,n.getResponseHeader("HX-Retarget"))));let l=determineHistoryUpdates(e,t),u=resolveResponseHandling(n),c=u.swap,f=!!u.error,h=htmx.config.ignoreTitle||u.ignoreTitle,p=u.select;u.target&&(t.target=asElement(querySelectorExt(e,u.target)));var b=i.swapOverride;b==null&&u.swapOverride&&(b=u.swapOverride),hasHeader(n,/HX-Retarget:/i)&&(n.getResponseHeader("HX-Retarget")==="this"?t.target=e:t.target=asElement(querySelectorExt(e,n.getResponseHeader("HX-Retarget")))),hasHeader(n,/HX-Reswap:/i)&&(b=n.getResponseHeader("HX-Reswap"));var S=n.response,d=mergeObjects({shouldSwap:c,serverResponse:S,isError:f,ignoreTitle:h,selectOverride:p},t);if(!(u.event&&!triggerEvent(r,u.event,d))&&triggerEvent(r,"htmx:beforeSwap",d)){if(r=d.target,S=d.serverResponse,f=d.isError,h=d.ignoreTitle,p=d.selectOverride,t.target=r,t.failed=f,t.successful=!f,d.shouldSwap){n.status===286&&cancelPolling(e),withExtensions(e,function(y){S=y.transformResponse(S,n,e)}),l.type&&saveCurrentPageToHistory(),hasHeader(n,/HX-Reswap:/i)&&(b=n.getResponseHeader("HX-Reswap"));var m=getSwapSpecification(e,b);m.hasOwnProperty("ignoreTitle")||(m.ignoreTitle=h),r.classList.add(htmx.config.swappingClass);let x=null,v=null;s&&(p=s),hasHeader(n,/HX-Reselect:/i)&&(p=n.getResponseHeader("HX-Reselect"));let w=getClosestAttributeValue(e,"hx-select-oob"),O=getClosestAttributeValue(e,"hx-select"),T=function(){try{l.type&&(triggerEvent(getDocument().body,"htmx:beforeHistoryUpdate",mergeObjects({history:l},t)),l.type==="push"?(pushUrlIntoHistory(l.path),triggerEvent(getDocument().body,"htmx:pushedIntoHistory",{path:l.path})):(replaceUrlInHistory(l.path),triggerEvent(getDocument().body,"htmx:replacedInHistory",{path:l.path}))),swap(r,S,m,{select:p||O,selectOOB:w,eventInfo:t,anchor:t.pathInfo.anchor,contextElement:e,afterSwapCallback:function(){if(hasHeader(n,/HX-Trigger-After-Swap:/i)){let y=e;bodyContains(e)||(y=getDocument().body),handleTriggerHeader(n,"HX-Trigger-After-Swap",y)}},afterSettleCallback:function(){if(hasHeader(n,/HX-Trigger-After-Settle:/i)){let y=e;bodyContains(e)||(y=getDocument().body),handleTriggerHeader(n,"HX-Trigger-After-Settle",y)}maybeCall(x)}})}catch(y){throw triggerErrorEvent(e,"htmx:swapError",t),maybeCall(v),y}},A=htmx.config.globalViewTransitions;if(m.hasOwnProperty("transition")&&(A=m.transition),A&&triggerEvent(e,"htmx:beforeTransition",t)&&typeof Promise<"u"&&document.startViewTransition){let y=new Promise(function(B,re){x=B,v=re}),E=T;T=function(){document.startViewTransition(function(){return E(),y})}}m.swapDelay>0?getWindow().setTimeout(T,m.swapDelay):T()}f&&triggerErrorEvent(e,"htmx:responseError",mergeObjects({error:"Response Status Error Code "+n.status+" from "+t.pathInfo.requestPath},t))}}let extensions={};function extensionBase(){return{init:function(e){return null},getSelectors:function(){return null},onEvent:function(e,t){return!0},transformResponse:function(e,t,n){return e},isInlineSwap:function(e){return!1},handleSwap:function(e,t,n,r){return!1},encodeParameters:function(e,t,n){return null}}}function defineExtension(e,t){t.init&&t.init(internalAPI),extensions[e]=mergeObjects(extensionBase(),t)}function removeExtension(e){delete extensions[e]}function getExtensions(e,t,n){if(t==null&&(t=[]),e==null)return t;n==null&&(n=[]);let r=getAttributeValue(e,"hx-ext");return r&&forEach(r.split(","),function(i){if(i=i.replace(/ /g,""),i.slice(0,7)=="ignore:"){n.push(i.slice(7));return}if(n.indexOf(i)<0){let s=extensions[i];s&&t.indexOf(s)<0&&t.push(s)}}),getExtensions(asElement(parentElt(e)),t,n)}var isReady=!1;getDocument().addEventListener("DOMContentLoaded",function(){isReady=!0});function ready(e){isReady||getDocument().readyState==="complete"?e():getDocument().addEventListener("DOMContentLoaded",e)}function insertIndicatorStyles(){if(htmx.config.includeIndicatorStyles!==!1){let e=htmx.config.inlineStyleNonce?` nonce="${htmx.config.inlineStyleNonce}"`:"";getDocument().head.insertAdjacentHTML("beforeend","<style"+e+">      ."+htmx.config.indicatorClass+"{opacity:0}      ."+htmx.config.requestClass+" ."+htmx.config.indicatorClass+"{opacity:1; transition: opacity 200ms ease-in;}      ."+htmx.config.requestClass+"."+htmx.config.indicatorClass+"{opacity:1; transition: opacity 200ms ease-in;}      </style>")}}function getMetaConfig(){let e=getDocument().querySelector('meta[name="htmx-config"]');return e?parseJSON(e.content):null}function mergeMetaConfig(){let e=getMetaConfig();e&&(htmx.config=mergeObjects(htmx.config,e))}return ready(function(){mergeMetaConfig(),insertIndicatorStyles();let e=getDocument().body;processNode(e);let t=getDocument().querySelectorAll("[hx-trigger='restored'],[data-hx-trigger='restored']");e.addEventListener("htmx:abort",function(r){let i=r.target,s=getInternalData(i);s&&s.xhr&&s.xhr.abort()});let n=window.onpopstate?window.onpopstate.bind(window):null;window.onpopstate=function(r){r.state&&r.state.htmx?(restoreHistory(),forEach(t,function(i){triggerEvent(i,"htmx:restored",{document:getDocument(),triggerEvent})})):n&&n(r)},getWindow().setTimeout(function(){triggerEvent(e,"htmx:load",{}),e=null},0)}),htmx}(),bn=La;var Pi={onEvent:function(e,t){e==="htmx:configRequest"&&(t.detail.headers["Content-Type"]="application/json")},encodeParameters:function(e,t,n){return e.overrideMimeType("text/json"),JSON.stringify(t)}};H.plugin(ti);H.store("app",ni(H));H.store("testee",ri(H));H.store("session",si(H));H.store("urls",oi(H));H.data("componentKeyboardActions",li);H.data("viewBase",ui);H.data("viewHome",fi);H.data("viewTutorial",hi);H.data("viewBatteries",di);H.data("viewBattery",pi);H.data("viewIntro",gi);H.data("viewItem",mi);H.data("viewMap",vi);H.data("viewSession",Li);H.data("viewSessionSet",Mi);H.data("viewNotifications",Fi);window.Alpine??(window.Alpine=H).start();window.htmx=bn;bn.defineExtension("json-enc",Pi);})();
